{"version":3,"sources":["services/logService.js","components/Home.jsx","components/common/Input.jsx","components/common/Select.jsx","components/common/TextArea.jsx","components/common/Check.jsx","components/common/ListGroup.jsx","components/common/Form.jsx","services/httpService.js","services/unitsService.js","services/usersService.js","components/UnitsForm.jsx","components/common/SearchBox.jsx","components/common/BtnNew.jsx","components/common/CarbonTableTitle.jsx","components/common/CarbonTablePagination.jsx","components/common/CarbonModal.jsx","components/common/Unauthorized.jsx","components/common/CarbonTableHeader.jsx","components/common/CarbonTableBody.jsx","components/common/CarbonTable.jsx","services/authService.js","components/UnitsTable.jsx","utils/paginate.js","components/Units.jsx","components/UsersTable.jsx","components/Users.jsx","components/UsersForm.jsx","utils/dates.js","utils/formatter.js","components/ExpensesTable.jsx","components/common/Pagination.jsx","services/expensesService.js","components/CurrentMonth.jsx","components/PeriodsTable.jsx","services/periodsService.js","components/Periods.jsx","components/ExpensesStats.jsx","components/ExpensesDetails.jsx","components/ExpensesBanner.jsx","components/common/SimpleModal.jsx","services/pdetailsService.js","services/consortiaService.js","components/PeriodsForm.jsx","components/common/PeriodSelector.jsx","components/Expenses.jsx","components/common/BtnAux.jsx","services/pmodelsServices.js","components/ExpensesForm.jsx","components/PeriodsDTable.jsx","components/Payments.jsx","components/SuppliersTable.jsx","services/suppliersService.js","components/Suppliers.jsx","components/SuppliersForm.jsx","components/RegisterForm.jsx","components/LoginForm.jsx","components/Logout.jsx","components/NotFound.jsx","components/ModelsForm.jsx","components/ModelsTable.jsx","components/Models.jsx","components/Consortia.jsx","components/common/ProtectedRoute.jsx","components/common/SideBarItem.jsx","components/common/SideSeparator.jsx","components/SideBar.jsx","components/NavBar.jsx","App.js","serviceWorker.js","index.js"],"names":["logService","init","Raven","config","install","log","error","captureException","Home","state","react_default","a","createElement","react","className","Component","Input","_ref","name","label","value","type","rest","Object","objectWithoutProperties","Fragment","htmlFor","assign","id","concat","placeholder","autoComplete","fullName","Select","field","options","map","option","index","key","_id","includes","focusable","preserveAspectRatio","style","willChange","xmlns","width","height","viewBox","aria-hidden","d","TextArea","Check","onChange","checked","ListGroup","items","textProperty","valueProperty","onItemSelect","selectedItem","item","onClick","defaultProps","Form","data","errors","validate","Joi","_this","schema","abortEarly","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","details","Symbol","iterator","next","done","path","err","return","validateProperty","obj","defineProperty","handleSubmit","e","preventDefault","setState","doSubmit","handleChange","_ref2","input","currentTarget","objectSpread","keys","errorMessage","selectedIndex","handleCheck","target","disabled","this","arguments","length","readOnly","_this$state","common_Input","onFocus","handleFocus","_this$state2","common_TextArea","_this$state3","common_Select","common_Check","classNAme","for","class","textProp","valueProp","selected","common_ListGroup","axios","defaults","baseURL","process","interceptors","response","use","status","toast","Promise","reject","logger","console","httpService","get","post","put","delete","setJwt","jwt","headers","common","apiEndpoint","unitUrl","getUnits","http","getUnit","unitId","saveUnit","unit","body","userUrl","getUsers","getUser","userId","saveUser","user","UnitsForm","fUnit","flat","floor","polygon","total","covered","uncovered","semi","coefficient","landlordId","users","string","required","number","max","parseSurface","parseLandlord","find","u","lastname","_callee","regenerator_default","wrap","_context","prev","landlord","sup","success","position","t0","props","history","push","stop","match","params","mapToViewModel","populateUsers","populateUnits","onSubmit","renderInput","renderSelect","renderButton","SearchBox","BtnNew","btnClick","btnLabel","event","CarbonTableTitle","title","helper","currentUser","isCouncil","common_BtnNew","CarbonTablePagination","itemsCount","pageSize","currentPage","onPageChange","onPageSize","pagesCount","Math","ceil","pages","_","range","data-pagination","aria-label","tabIndex","data-items-per-page","data-displayed-item-range","data-total-items","data-page-number-input","p","i","data-page-backward","data-page-forward","CarbonModal","isOpen","toggle","cancelBtnLabel","submitBtnLabel","submit","danger","role","aria-modal","aria-labelledby","aria-describedby","Unauthorized","CarbonTableHeader","raiseSort","sortColumn","order","onSort","renderSortIcon","column","_this2","columns","data-event","CarbonTableBody","renderCell","content","createKey","_this$props","CarbonTable","data-table","common_CarbonTableHeader","common_CarbonTableBody","tokenKey","mail","password","sent","localStorage","setItem","_callee2","_context2","abrupt","getJwt","getItem","authService","login","_x","_x2","_login","apply","logout","removeItem","getCurrentUser","jwtDecode","loginWithJwt","checkLogin","_x3","_x4","_checkLogin","UnitsTable","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","Link","to","toFixed","deleteColumn","onDelete","auth","isAdmin","units","common_CarbonTable","paginate","pageNumber","startIndex","slice","take","Units","handleDelete","selectedUnit","rollback","filter","ex","toggleDelete","handleSort","handleAddUnit","handlePageSize","handlePageChange","page","arrow","Number","handleSearch","query","searchQuery","getPageData","allUnits","filtered","toLowerCase","startsWith","orderBy","totalCount","modalBody","modalProps","modal","bind","assertThisInitialized","prevState","common_Unauthorized","_this$getPageData","common_CarbonModal","common_CarbonTableTitle","common_SearchBox","components_UnitsTable","common_CarbonTablePagination","UsersTable","Users","selectedUser","handleAddUser","allUsers","components_UsersTable","UsersForm","firstname","phone","notes","balance","isLandlord","pwdCurrent","pwdNew","pwdNew2","min","email","allow","boolean","parsePassword","columnsUnits","replace","populateUser","renderCheck","_this$state$data2","renderTextArea","renderAdmin","today","Date","monthLabels","getCurrentPeriod","month","getMonth","year","getFullYear","getPeriod","day","minus","getLastXMonths","n","xMonths","period","getLastXYears","formatDate","date","toLocaleDateString","currency","ammount","Intl","NumberFormat","format","ExpensesTable","expense","category","expenses","Pagination","expUrl","getExpenses","getExpensesByPeriod","deleteExpense","expId","saveExpense","exp","CurrentMonth","selectedPeriod","allExpenses","react_toastify","components_ExpensesTable","viewOnly","common_Pagination","PeriodsTable","expensesA","incomeA","balanceA","expensesB","incomeB","balanceB","isClosedColumn","isClosed","onClosePeriod","periods","url","savePeriod","initPeriod","Periods","periodId","handleNewPeriod","toggleNewPeriod","handleClsPeriod","asyncToGenerator","mark","mapToMongoModel","Error","message","toggleClsPeriod","allPeriods","ind","modalBodyNew","modalPropsNew","_this$state4","newModal","modalBodyDel","modalPropsDel","_this$state5","delModal","modalBodyClose","modalPropsClose","_this$state6","clsModal","__v","_this$state7","components_PeriodsTable","ExpensesStats","expA","expB","sorted","grouped","groupBy","totalA","reduce","acum","current","totalB","scope","subtotal","concept","ExpensesDetails","sortBy","subtExpenseA","expenseA","subtDebtA","debtA","subtIntA","intA","subtExpenseB","expenseB","subtDebtB","debtB","subtIntB","intB","totCoef","model","colSpan","header","expenseTotal","ExpensesBanner","consortia","address","closeBtn","SimpleModal","action","Modal","ModalHeader","close","ModalBody","Alert","color","ModalFooter","Button","getPDetailsByPeriod","savePDetails","getConsortia","saveConsortia","PeriodsForm","toPDF","canvas","imgData","pdf","input2","canvas2","imgData2","document","getElementById","html2canvas","toDataURL","jsPDF","addImage","addPage","save","togglePeriod","handleSavePeriod","ModalPeriodBody","bodyPeriod","bodyNewPeriod","newPeriod","populatePeriod","populateDetails","populateExpenses","populateConsortia","_p","saveButtonLabel","common_SimpleModal","components_ExpensesBanner","components_ExpensesStats","components_ExpensesDetails","PeriodSelector","months","years","handlePeriod","Expenses","selectedExpense","handlePeriodSelect","handleAddExpense","m","renderViewTags","count","common_PeriodSelector","BtnAux","supUrl","getModels","saveModel","ExpensesForm","excluded","selectedEx","models","typeOptions","categoryOptions","valid","array","_auth$getCurrentUser","addAll","allExcluded","newData","delEx","newState","newExcluded","expenseId","populateModels","v","getLabel","_this3","selectedExKey","common_BtnAux","addExcluded","fillRule","renderExcluded","PeriodsDTable","isPayedA","onRegister","isPayedB","Payments","allDetails","detail","handleRegister","selectedDetail","isPayedKey","payedAB","toggleRegister","handleSortDetails","components_PeriodsDTable","SuppliersTable","supplier","suppliers","saveSupplier","Suppliers","supId","selectedSupplier","handleAddSuppplier","allSuppliers","components_SuppliersTable","SuppliersForm","contact","comments","supplierId","populateSuppliers","RegisterForm","LoginForm","username","_this$state$data","location","window","from","pathname","Redirect","Logout","NotFound","ModelsForm","fUnits","landlordKey","handleUnitSort","sortUnits","getCoefSum","c","handleAddModel","selectedUnitKey","info","bufferUnits","getSortedData","modelId","sortedUnits","renderProps","ModelsTable","Models","selectedModel","allModels","components_ModelsTable","Consortia","cbu","bank","interest","populateConsotia","ProtectedRoute","component","render","Route","SideBarItem","NavLink","SideSeparator","SideBar","common_SideSeparator","common_SideBarItem","NavBar","App","components_NavBar","components_SideBar","Switch","common_ProtectedRoute","exact","Boolean","hostname","ReactDOM","BrowserRouter","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.802ee888.chunk.js","sourcesContent":["import Raven from 'raven-js';\n\nfunction init() {\n  Raven.config(\n    'https://a92e94fcca124123b2bf3379ec01d717@sentry.io/1381521'\n  ).install();\n}\n\nfunction log(error) {\n  Raven.captureException(error);\n}\n\nexport default {\n  init,\n  log\n};\n","import React, { Component, Fragment } from 'react';\n\nclass Home extends Component {\n  state = {};\n\n  componentDidMount() {}\n  render() {\n    return (\n      <Fragment>\n        <div className=\"home\" />\n      </Fragment>\n    );\n  }\n}\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nconst Input = ({ name, label, error, value, type, ...rest }) => {\n  return (\n    <React.Fragment>\n      <div className=\"bx--form-item\">\n        <label htmlFor={name} className=\"bx--label\">\n          {label}\n        </label>\n        <input\n          {...rest}\n          name={name}\n          id={name}\n          value={value}\n          className={`bx--text-input required ${error ? 'data-invalid' : ''}`}\n          placeholder={`Ingrese el ${label} aquí`}\n          type={type}\n          autoComplete={type}\n        />\n        <div className=\"bx--form-requirement\">{error}</div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired\n  // value: PropTypes.string.isRequired //Puede ser number\n};\n\nexport default Input;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst fullName = ['tenant', 'landlord', 'lastname', 'userId', 'landlordId'];\n\nconst Select = ({ name, label, field, options, className, ...rest }) => {\n  return (\n    <div className={`bx--form-item ${className}`}>\n      <div className=\"bx--select\">\n        {label && (\n          <label className=\"bx--label\" htmlFor={name}>\n            {label}\n          </label>\n        )}\n        <div className=\"bx--select-input__wrapper\">\n          <select name={name} id={name} {...rest} className=\"bx--select-input\">\n            <option value=\"\" />\n            {options.map((option, index) => (\n              <option\n                key={option._id || index}\n                value={option[field] || option}\n                id={option._id || index}\n                className=\"bx--select-option\"\n              >\n                {(fullName.includes(name)\n                  ? `${option['lastname']}, ${option['firstname']}`\n                  : option[field]) || option}\n              </option>\n            ))}\n          </select>\n          <svg\n            focusable=\"false\"\n            preserveAspectRatio=\"xMidYMid meet\"\n            style={{ willChange: 'transform' }}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"bx--select__arrow\"\n            width=\"10\"\n            height=\"6\"\n            viewBox=\"0 0 10 6\"\n            aria-hidden=\"true\"\n          >\n            <path d=\"M5 6L0 1 .7.3 5 4.6 9.3.3l.7.7z\" />\n          </svg>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nSelect.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  options: PropTypes.array.isRequired\n  // value: PropTypes.string.isRequired // string or number..\n};\n\nexport default Select;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nconst TextArea = ({ name, label, error, ...rest }) => {\n  return (\n    <div className=\"bx--form-item\">\n      <label className=\"bx--label \" htmlFor={name}>\n        {label}\n      </label>\n      <textarea\n        {...rest}\n        name={name}\n        id={name}\n        className=\"bx--text-area bx--text-area--v2\"\n      />\n    </div>\n  );\n};\n\nTextArea.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired\n  // value: PropTypes.string.isRequired //Puede ser number\n};\n\nexport default TextArea;\n","import React from 'react';\n\nconst Check = ({ name, label, onChange, checked, ...rest }) => {\n  // console.log('checked', label, checked);\n  return (\n    <div className=\"bx--form-item bx--checkbox-wrapper\">\n      <input\n        id={name}\n        className=\"bx--checkbox\"\n        type=\"checkbox\"\n        name={name}\n        checked={checked}\n        onChange={onChange}\n      />\n      <label className=\"bx--checkbox-label\" htmlFor={name}>\n        {label}\n      </label>\n    </div>\n  );\n};\n\nexport default Check;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ListGroup = ({\n  items,\n  textProperty,\n  valueProperty,\n  onItemSelect,\n  selectedItem\n}) => {\n  return (\n    <ul className=\"list-group\">\n      {items.map(item => (\n        <li\n          onClick={() => onItemSelect(item)}\n          key={item[valueProperty]}\n          className={\n            item === selectedItem ? 'list-group-item active' : 'list-group-item'\n          }\n        >\n          {item[textProperty]}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nListGroup.defaultProps = {\n  textProperty: 'name',\n  valueProperty: 'id'\n};\n\nListGroup.propTypes = {\n  // pisos: PropTypes.array.isRequired,\n  onItemSelect: PropTypes.func.isRequired\n};\n\nexport default ListGroup;\n","import React, { Component } from 'react';\nimport Joi from 'joi-browser';\nimport Input from './Input';\nimport Select from './Select';\nimport TextArea from './TextArea';\nimport Check from './Check';\nimport ListGroup from './ListGroup';\n\nclass Form extends Component {\n  state = {\n    data: {},\n    errors: {}\n  };\n\n  validate = () => {\n    const options = { abortEarly: false };\n    const { error } = Joi.validate(this.state.data, this.schema, options);\n\n    if (!error) return null;\n    const errors = {};\n\n    for (let item of error.details) {\n      // console.log(`Validating ${item.path[0]}: ${item.message}`);\n      errors[item.path[0]] = `El valor ${\n        item.path[0]\n      } es incorrecto o se encuentra vacio.`; // item.message;\n    }\n    return errors;\n  };\n\n  validateProperty = ({ name, value }) => {\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n    return error ? `El dato es inválido o se encuentra vacio.` : null; //error.details[0].message\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n    if (errors) return;\n    this.doSubmit();\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    const errors = { ...this.state.errors };\n    const keys = { ...this.state.keys };\n\n    const errorMessage = this.validateProperty(input);\n    if (errorMessage) errors[input.name] = errorMessage;\n    else delete errors[input.name];\n\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n\n    if (input.options) {\n      const { id } = input.options[input.options.selectedIndex];\n      keys[`${input.name}Key`] = id;\n    }\n\n    this.setState({ data, errors, keys });\n  };\n\n  handleCheck = e => {\n    const data = { ...this.state.data };\n    data[e.target.name] = e.target.checked;\n    this.setState({ data });\n  };\n\n  renderButton(label) {\n    return (\n      <button\n        type=\"submit\"\n        disabled={this.validate()}\n        className=\"bx--btn bx--btn--primary\" //btn btn-primary btn-center mx-auto\n      >\n        {label}\n      </button>\n    );\n  }\n\n  renderInput(name, label, type = 'text', readOnly = false) {\n    const { data, errors } = this.state;\n    return (\n      <Input\n        type={type}\n        name={name}\n        value={data[name]}\n        label={label}\n        onChange={this.handleChange}\n        onFocus={this.handleFocus}\n        error={errors[name]}\n        readOnly={readOnly}\n      />\n    );\n  }\n  renderTextArea(name, label, type = 'text', readOnly = false) {\n    const { data, errors } = this.state;\n    return (\n      <TextArea\n        type={type}\n        name={name}\n        value={data[name]}\n        label={label}\n        onChange={this.handleChange}\n        onFocus={this.handleFocus}\n        error={errors[name]}\n        readOnly={readOnly}\n      />\n    );\n  }\n\n  renderSelect(name, label, field, options) {\n    const { data, errors } = this.state;\n    return (\n      <Select\n        name={name}\n        label={label}\n        field={field}\n        options={options}\n        value={data[name]}\n        onChange={this.handleChange}\n        error={errors[name]}\n      />\n    );\n  }\n\n  renderCheck(name, label) {\n    const { data } = this.state;\n    return (\n      <Check\n        name={name}\n        label={label}\n        onChange={this.handleCheck}\n        checked={data[name]}\n      />\n    );\n  }\n\n  renderOptions(name, options, label) {\n    return (\n      <div classNAme=\"form-group\">\n        <label for={name}>{label}</label>\n        <select class=\"form-control\" id={name}>\n          {options.map(option => (\n            <option>{option}</option>\n          ))}\n        </select>\n      </div>\n    );\n  }\n\n  renderListGroup(items, textProp, valueProp, onItemSelect, selected) {\n    return (\n      <div>\n        <ListGroup\n          items={items}\n          textProperty={textProp}\n          valueProperty={valueProp}\n          onItemSelect={onItemSelect}\n          selectedItem={selected}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Form;\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport logger from './logService';\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\n\naxios.interceptors.response.use(null, error => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expectedError) {\n    logger.log(error);\n    console.log('unexpected: ', error);\n    toast.error(`⚠️ ${error.response.data}`);\n    return Promise.reject(error);\n  }\n  // console.log(error.response);\n  toast.error(`⚠️ ${error.response.data}`);\n  return Promise.reject(error);\n});\n\nfunction setJwt(jwt) {\n  axios.defaults.headers.common['x-auth-token'] = jwt;\n}\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n  setJwt\n};\n","import http from './httpService';\n\nconst apiEndpoint = '/funits';\n\nfunction unitUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getUnits() {\n  return http.get(apiEndpoint);\n}\n\nexport function getUnit(unitId) {\n  return http.get(unitUrl(unitId));\n}\n\nexport function getUnitsOwnedBy(userId) {\n  return http.get(unitUrl(`ownedby/${userId}`));\n}\n\nexport function deleteUnit(unitId) {\n  return http.delete(unitUrl(unitId));\n}\n\n// export function updateUnit(unit) {\n//   return http.put(unitUrl(unit._id), unit);\n// }\n\nexport function saveUnit(unit) {\n  if (unit._id) {\n    const body = { ...unit };\n    delete body._id;\n    return http.put(unitUrl(unit._id), body);\n  }\n  return http.post(apiEndpoint, unit);\n}\n","import http from './httpService';\n\nconst apiEndpoint = '/users';\n\nfunction userUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getUsers() {\n  return http.get(apiEndpoint);\n}\n\nexport function getLandlords() {\n  return http.get(`${apiEndpoint}/landlords`);\n}\n\nexport function getUser(userId) {\n  return http.get(userUrl(userId));\n}\n\nexport function deleteUser(userId) {\n  return http.delete(userUrl(userId));\n}\n\nexport function saveUser(user) {\n  if (user._id) {\n    const body = { ...user };\n    delete body._id;\n    return http.put(userUrl(user._id), body);\n  }\n  return http.post(apiEndpoint, user);\n}\n\nexport function register(user) {\n  return http.post(apiEndpoint, user);\n}\n","import React from 'react';\nimport Joi from 'joi-browser';\nimport { toast } from 'react-toastify';\nimport Form from './common/Form';\nimport { getUnit, saveUnit } from '../services/unitsService';\nimport { getUsers } from '../services/usersService';\n\nclass UnitsForm extends Form {\n  state = {\n    data: {\n      fUnit: '',\n      flat: '',\n      floor: 0,\n      polygon: '',\n      total: 0,\n      covered: 0,\n      uncovered: 0,\n      semi: 0,\n      coefficient: 0,\n      landlordId: ''\n    },\n    users: [],\n    errors: {},\n    keys: {}\n  };\n\n  schema = {\n    _id: Joi.string(),\n    fUnit: Joi.string()\n      .required()\n      .label('Unidad'),\n    floor: Joi.number()\n      .max(3)\n      .required()\n      .label('Piso'),\n    flat: Joi.string()\n      .max(2)\n      .label('Depto'),\n    polygon: Joi.string()\n      .required()\n      .label('Polígono'),\n    total: Joi.number()\n      .required()\n      .label('Superficie total'),\n    covered: Joi.number().label('Superficie cubierta'),\n    uncovered: Joi.number().label('Superficie descubierta'),\n    semi: Joi.number().label('Superficie semidescubierta'),\n    coefficient: Joi.number()\n      .required()\n      .label('Share'),\n    landlordId: Joi.string()\n      .required()\n      .label('Propietario') //No validation\n  };\n\n  async populateUsers() {\n    const { data: users } = await getUsers();\n    this.setState({ users });\n  }\n\n  async populateUnits() {\n    const unitId = this.props.match.params.id;\n    if (unitId === 'new') return;\n    const { data: unit } = await getUnit(unitId);\n    this.setState({ data: this.mapToViewModel(unit) }); //\n  }\n\n  async componentDidMount() {\n    await this.populateUsers();\n    await this.populateUnits();\n  }\n\n  mapToViewModel(unit) {\n    return {\n      _id: unit._id,\n      fUnit: unit.fUnit,\n      flat: unit.flat,\n      floor: unit.floor,\n      polygon: unit.polygon,\n      total: unit.sup.total,\n      covered: unit.sup.covered,\n      uncovered: unit.sup.uncovered,\n      semi: unit.sup.semi,\n      coefficient: unit.coefficient,\n      landlordId: unit.landlord.userId\n    };\n  }\n\n  parseSurface = fUnit => {\n    const { total, covered, uncovered, semi } = fUnit;\n    delete fUnit.total;\n    delete fUnit.covered;\n    delete fUnit.uncovered;\n    delete fUnit.semi;\n    return {\n      total,\n      covered,\n      uncovered,\n      semi\n    };\n  };\n\n  parseLandlord = fUnit => {\n    const { users } = this.state;\n    const landlordId = fUnit.landlordId;\n    delete fUnit.landlordId;\n\n    return {\n      userId: landlordId || '5c5f843049580aaa01a931c9', //id de -disponible-\n      name: users.find(u => u._id === landlordId).lastname\n    };\n  };\n\n  doSubmit = async () => {\n    const fUnit = { ...this.state.data };\n\n    fUnit.landlord = this.parseLandlord(fUnit);\n    fUnit.sup = this.parseSurface(fUnit);\n\n    try {\n      await saveUnit(fUnit);\n      toast.success('Los datos se guardaron exitosamente. ✔️', {\n        position: 'top-center'\n      });\n    } catch (ex) {\n      console.log(ex.response);\n    }\n\n    const { history } = this.props;\n    history.push('/units');\n  };\n\n  render() {\n    const { users } = this.state;\n    return (\n      <div className=\"bx--grid cc--units-form\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">{this.renderInput('fUnit', 'Unidad')}</div>\n            <div className=\"bx--col\">\n              {this.renderInput('polygon', 'Polígono')}\n            </div>\n            <div className=\"bx--col\">\n              {this.renderInput('coefficient', 'Coeficiente')}\n            </div>\n          </div>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">{this.renderInput('floor', 'Piso')}</div>\n            <div className=\"bx--col\">{this.renderInput('flat', 'Rótulo')}</div>\n            <div className=\"bx--col\">\n              {this.renderSelect('landlordId', 'Propietario', '_id', users)}\n            </div>\n          </div>\n          <div>\n            <p className=\"text-muted\">Superficie</p>\n          </div>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">\n              {this.renderInput('total', 'Total', 'text', true)}\n            </div>\n            <div className=\"bx--col\">\n              {this.renderInput('covered', 'Cubierta')}\n            </div>\n            <div className=\"bx--col\">\n              {this.renderInput('uncovered', 'Descubierta')}\n            </div>\n            <div className=\"bx--col\">\n              {this.renderInput('semi', 'Semicubierta')}\n            </div>\n          </div>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">{this.renderButton('Guardar')}</div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default UnitsForm;\n","import React from 'react';\n\nconst SearchBox = ({ value, onChange }) => {\n  return (\n    <div>\n      <input\n        id=\"searchx\"\n        type=\"text\"\n        name=\"query\"\n        className=\"bx--text-input\"\n        placeholder=\"Buscar...\"\n        value={value}\n        onChange={e => onChange(e.currentTarget.value)}\n      />\n    </div>\n  );\n};\n\nexport default SearchBox;\n","import React from 'react';\n\nconst BtnNew = ({ btnClick, btnLabel }) => {\n  return (\n    <button\n      className=\"bx--btn bx--btn--sm bx--btn--primary\"\n      onClick={event => btnClick(event)}\n      type=\"button\"\n    >\n      {btnLabel}\n      <svg\n        focusable=\"false\"\n        preserveAspectRatio=\"xMidYMid meet\"\n        // style=\"will-change: transform;\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className=\"bx--btn__icon\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 32 32\"\n        aria-hidden=\"true\"\n      >\n        <path d=\"M17 15V7h-2v8H7v2h8v8h2v-8h8v-2h-8z\" />\n      </svg>\n    </button>\n  );\n};\n\nexport default BtnNew;\n","import React, { Fragment } from 'react';\nimport BtnNew from './BtnNew';\nconst CarbonTableTitle = ({\n  title,\n  helper,\n  btnLabel,\n  btnClick,\n  currentUser\n}) => {\n  return (\n    <Fragment>\n      <div className=\"bx--data-table-header\">\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">\n              <h4 className=\"bx--data-table-header__title\">{title}</h4>\n              <div className=\"bx--data-table-header__description\">{helper}</div>\n            </div>\n            <div className=\"bx--col bx--toolbar-content\">\n              {currentUser && currentUser.isCouncil && btnLabel && (\n                <BtnNew btnClick={btnClick} btnLabel={btnLabel} />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default CarbonTableTitle;\n","import React from 'react';\nimport _ from 'lodash';\n\nconst CarbonTablePagination = ({\n  itemsCount,\n  pageSize,\n  currentPage,\n  onPageChange,\n  onPageSize\n}) => {\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  const pages = _.range(1, pagesCount + 1);\n\n  if (pagesCount === 1) return null;\n\n  return (\n    <div className=\"bx--pagination\" data-pagination>\n      <div className=\"bx--pagination__left\">\n        <label\n          id=\"select-id-pagination-count-label\"\n          className=\"bx--pagination__text\"\n          htmlFor=\"select-id-pagination-count\"\n        >\n          Items por página:\n        </label>\n        <div className=\"bx--select bx--select--inline bx--select__item-count\">\n          <select\n            className=\"bx--select-input\"\n            id=\"select-id-pagination-count\"\n            aria-label=\"select number of items per page\"\n            tabIndex=\"0\"\n            data-items-per-page\n            onChange={event => onPageSize(event)}\n            value={pageSize}\n          >\n            <option className=\"bx--select-option\" value=\"10\">\n              10\n            </option>\n            <option className=\"bx--select-option\" value=\"20\">\n              20\n            </option>\n            <option className=\"bx--select-option\" value=\"30\">\n              30\n            </option>\n            <option className=\"bx--select-option\" value=\"40\">\n              40\n            </option>\n            <option className=\"bx--select-option\" value=\"50\">\n              50\n            </option>\n          </select>\n          <svg\n            focusable=\"false\"\n            // preserveAspectRatio=\"xMidYMid meet\"\n            // style={{will-change: transform}}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"bx--select__arrow\"\n            width=\"10\"\n            height=\"6\"\n            viewBox=\"0 0 10 6\"\n            aria-hidden=\"true\"\n          >\n            <path d=\"M5 6L0 1 .7.3 5 4.6 9.3.3l.7.7z\" />\n          </svg>\n        </div>\n        <span className=\"bx--pagination__text\">\n          <span data-displayed-item-range>1-10</span> de{' '}\n          <span data-total-items>{itemsCount}</span> items\n        </span>\n      </div>\n      <div className=\"bx--pagination__right\">\n        <div className=\"bx--select bx--select--inline bx--select__page-number\">\n          <select\n            className=\"bx--select-input\"\n            id=\"select-id-pagination-page\"\n            aria-label=\"select page number to view\"\n            tabIndex=\"0\"\n            data-page-number-input\n            onChange={event => onPageChange(event)}\n            value={currentPage}\n          >\n            {pages.map((p, i) => (\n              <option className=\"bx--select-option\" value={p} key={i}>\n                {p}\n              </option>\n            ))}\n          </select>\n          <svg\n            focusable=\"false\"\n            preserveAspectRatio=\"xMidYMid meet\"\n            // style=\"will-change: transform;\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"bx--select__arrow\"\n            width=\"10\"\n            height=\"6\"\n            viewBox=\"0 0 10 6\"\n            aria-hidden=\"true\"\n          >\n            <path d=\"M5 6L0 1 .7.3 5 4.6 9.3.3l.7.7z\" />\n          </svg>\n        </div>\n        <label\n          id=\"select-id-pagination-page-label\"\n          className=\"bx--pagination__text\"\n          htmlFor=\"select-id-pagination-page\"\n        >\n          de {pagesCount} páginas\n        </label>\n        <button\n          id=\"left\"\n          className=\"bx--pagination__button bx--pagination__button--backward\"\n          tabIndex=\"0\"\n          data-page-backward\n          aria-label=\"Backward button\"\n          onClick={event => onPageChange(event, -1)}\n        >\n          <svg\n            id=\"left\"\n            focusable=\"false\"\n            preserveAspectRatio=\"xMidYMid meet\"\n            // style=\"will-change: transform;\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"bx--pagination__nav-arrow\"\n            width=\"20\"\n            height=\"20\"\n            viewBox=\"0 0 32 32\"\n            aria-hidden=\"true\"\n          >\n            <path d=\"M19 23l-8-7 8-7v14z\" />\n          </svg>\n        </button>\n        <button\n          id=\"right\"\n          className=\"bx--pagination__button bx--pagination__button--forward\"\n          tabIndex=\"0\"\n          data-page-forward\n          aria-label=\"Forward button\"\n          onClick={event => onPageChange(event, 1, pagesCount)}\n        >\n          <svg\n            id=\"right\"\n            focusable=\"false\"\n            preserveAspectRatio=\"xMidYMid meet\"\n            // style=\"will-change: transform;\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"bx--pagination__nav-arrow\"\n            width=\"20\"\n            height=\"20\"\n            viewBox=\"0 0 32 32\"\n            aria-hidden=\"true\"\n          >\n            <path d=\"M13 9l8 7-8 7V9z\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default CarbonTablePagination;\n","import React from 'react';\n\nconst CarbonModal = ({\n  isOpen,\n  toggle,\n  cancelBtnLabel,\n  submitBtnLabel,\n  title,\n  label,\n  submit,\n  body,\n  danger\n}) => {\n  return (\n    <div\n      id=\"cc-carbon-modal\"\n      className={`bx--modal ${isOpen ? 'is-visible' : ''}`}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"cc-carbon-modal-label\"\n      aria-describedby=\"cc-carbon-modal-heading\"\n      tabIndex=\"-1\"\n    >\n      <div className=\"bx--modal-container\">\n        <div className=\"bx--modal-header\">\n          <p\n            className=\"bx--modal-header__label bx--type-delta\"\n            id=\"cc-carbon-modal-label\"\n          >\n            {label}\n          </p>\n          <p\n            className=\"bx--modal-header__heading bx--type-beta\"\n            id=\"cc-carbon-modal-heading\"\n          >\n            {title}\n          </p>\n          <button\n            className=\"bx--modal-close\"\n            type=\"button\"\n            aria-label=\"close modal\"\n            onClick={toggle}\n          >\n            <svg\n              focusable=\"false\"\n              preserveAspectRatio=\"xMidYMid meet\"\n              style={{ willChange: 'transform' }}\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"bx--modal-close__icon\"\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 16 16\"\n              aria-hidden=\"true\"\n            >\n              <path d=\"M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\" />\n            </svg>\n          </button>\n        </div>\n        <div className=\"bx--modal-content\">{body} </div>\n        <div className=\"bx--modal-footer\">\n          <button\n            className=\"bx--btn bx--btn--secondary\"\n            type=\"button\"\n            onClick={toggle}\n          >\n            {cancelBtnLabel}\n          </button>\n          <button\n            className={`bx--btn bx--btn--${danger ? 'danger' : 'primary'}`}\n            type=\"button\"\n            aria-label={`${danger ? 'danger' : 'primary'}`}\n            onClick={submit}\n          >\n            {submitBtnLabel}\n          </button>{' '}\n        </div>{' '}\n      </div>\n    </div>\n  );\n};\n\nexport default CarbonModal;\n","import React from 'react';\n\nconst Unauthorized = () => {\n  return (\n    <div className=\"alert alert-danger\" role=\"alert\">\n      Acceso no autorizado.\n    </div>\n  );\n};\n\nexport default Unauthorized;\n","import React, { Component } from 'react';\n\nclass CarbonTableHeader extends Component {\n  raiseSort = path => {\n    const sortColumn = { ...this.props.sortColumn };\n    if ((sortColumn.path = path))\n      sortColumn.order = sortColumn.order === 'asc' ? 'desc' : 'asc';\n    else {\n      sortColumn.path = path;\n      sortColumn.order = 'asc';\n    }\n    this.props.onSort(sortColumn);\n  };\n\n  renderSortIcon = column => {\n    const { sortColumn } = this.props;\n    if (column.path !== sortColumn.path) return null;\n    if (sortColumn.order === 'asc') return <i className=\"fa fa-sort-asc\" />;\n    return <i className=\"fa fa-sort-desc\" />;\n  };\n\n  render() {\n    return (\n      <thead>\n        <tr>\n          {this.props.columns.map(column => (\n            <th key={column.path || column.key}>\n              <button\n                className=\"bx--table-sort\"\n                data-event=\"sort\"\n                title=\"Name\"\n                onClick={() => this.raiseSort(column.path)}\n              >\n                <span className=\"bx--table-header-label\">{column.label}</span>\n                <svg\n                  focusable=\"false\"\n                  preserveAspectRatio=\"xMidYMid meet\"\n                  // style=\"will-change: transform;\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"bx--table-sort__icon\"\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 16 16\"\n                  aria-hidden=\"true\"\n                >\n                  <path d=\"M12.3 9.3l-3.8 3.8V1h-1v12.1L3.7 9.3 3 10l5 5 5-5z\" />\n                </svg>\n                <svg\n                  focusable=\"false\"\n                  preserveAspectRatio=\"xMidYMid meet\"\n                  // style=\"will-change: transform;\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"bx--table-sort__icon-unsorted\"\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 16 16\"\n                  aria-hidden=\"true\"\n                >\n                  <path d=\"M13.8 10.3L12 12.1V2h-1v10.1l-1.8-1.8-.7.7 3 3 3-3zM4.5 2l-3 3 .7.7L4 3.9V14h1V3.9l1.8 1.8.7-.7z\" />\n                </svg>\n              </button>\n            </th>\n          ))}\n        </tr>\n      </thead>\n    );\n  }\n}\n\nexport default CarbonTableHeader;\n","import React, { Component } from 'react';\nimport _ from 'lodash';\nclass CarbonTableBody extends Component {\n  renderCell = (item, column) => {\n    if (typeof item[column.path] === 'boolean' && !column.key)\n      return item[column.path] ? (\n        <div className=\"text-center\">\n          <i className=\"fa fa-check-square-o\" aria-hidden=\"true\" />\n        </div>\n      ) : (\n        <div className=\"text-center\">\n          <i className=\"fa fa-square-o\" aria-hidden=\"true\" />\n        </div>\n      );\n    if (column.content) return column.content(item);\n    return _.get(item, column.path);\n  };\n\n  createKey = (item, column) => {\n    return item._id + column.path || column.key;\n  };\n\n  render() {\n    const { data, columns } = this.props;\n\n    return (\n      <tbody>\n        {data.map(item => (\n          <tr key={item._id}>\n            {columns.map(column => (\n              <td key={this.createKey(item, column)}>\n                {this.renderCell(item, column)}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n\nexport default CarbonTableBody;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CarbonTableHeader from './CarbonTableHeader';\nimport CarbonTableBody from './CarbonTableBody';\n\nconst CarbonTable = ({\n  columns,\n  sortColumn,\n  onSort,\n  data,\n  btnClick,\n  currentUser,\n  ...rest\n}) => {\n  return (\n    <div className=\"bx--data-table-container\" data-table>\n      <table className=\"bx--data-table bx--data-table--sort\">\n        <CarbonTableHeader\n          columns={columns}\n          sortColumn={sortColumn}\n          onSort={onSort}\n        />\n        <CarbonTableBody data={data} columns={columns} />\n      </table>\n    </div>\n  );\n};\n\nCarbonTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  sortColumn: PropTypes.object.isRequired,\n  onSort: PropTypes.func.isRequired,\n  data: PropTypes.array.isRequired\n};\n\nexport default CarbonTable;\n","import http from './httpService';\nimport jwtDecode from 'jwt-decode';\nconst apiEndpoint = '/auth';\nconst tokenKey = 'consortia-token';\n\n//adding x-auth-token, if any, to the headers.\n//Required to access protected api endpoints.\nhttp.setJwt(getJwt());\n\nexport async function login(mail, password) {\n  const { data: jwt } = await http.post(apiEndpoint, { mail, password });\n  localStorage.setItem(tokenKey, jwt);\n}\nexport async function checkLogin(mail, password) {\n  const data = await http.post(apiEndpoint, { mail, password });\n  return data;\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\n\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n  loginWithJwt,\n  getJwt,\n  checkLogin\n};\n\n// const getTokenExpirationDate = token => {\n//   const decoded = jwtDecode(token);\n//   const { exp } = decoded;\n\n//   if (!exp) return null;\n\n//   return exp;\n// };\n\n// const isTokenExpired = token => {\n//   const tokenExpDate = getTokenExpirationDate(token);\n//   const now = Date.now() / 1000;\n\n//   return tokenExpDate < now;\n// };\n\n// authService.isLoggedIn = () => {\n//   const token = authService.getToken();\n//   return token && !isTokenExpired(token);\n// };\n\n// authService.login = async password => {\n//   const response = await axios.post(\n//     '/api/login',\n//     { password },\n//     { validateStatus: s => s === 200 || s === 401 }\n//   );\n//   const { data } = response;\n\n//   if (response.status === 200) setToken(data.token);\n\n//   return data.auth === 'ok';\n// };\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CarbonTable from './common/CarbonTable';\nimport auth from '../services/authService';\n\nclass UnitsTable extends Component {\n  columns = [\n    {\n      path: 'fUnit',\n      label: 'Unidad',\n      content: unit => (\n        <div className=\"text-center\">\n          <Link to={`/units/${unit._id}`}>{unit.fUnit}</Link>\n        </div>\n      )\n    },\n    {\n      path: 'landlord.name',\n      label: 'Propietario',\n      content: unit =>\n        unit.landlord.name !== 'disponible' ? (\n          <Link to={`/users/${unit.landlord.userId}`}>\n            {unit.landlord.name}\n          </Link>\n        ) : (\n          unit.landlord.name\n        )\n    },\n    {\n      path: 'floor',\n      label: 'Piso',\n      content: unit => <div className=\"text-center\">{unit.floor}</div>\n    },\n    {\n      path: 'flat',\n      label: 'Rótulo',\n      content: unit => <div className=\"text-center\">{unit.flat}</div>\n    },\n    {\n      path: 'sup.covered',\n      label: 'Sup. Cubierta',\n      content: unit => (\n        <div className=\"text-center\">{unit.sup.covered.toFixed(3)}</div>\n      )\n    },\n    {\n      path: 'sup.uncovered',\n      label: 'Sup. Desc.',\n      content: unit => (\n        <div className=\"text-center\">{unit.sup.uncovered.toFixed(3)}</div>\n      )\n    },\n    {\n      path: 'sup.semi',\n      label: 'Sup. Semidesc.',\n      content: unit => (\n        <div className=\"text-center\">{unit.sup.semi.toFixed(3)}</div>\n      )\n    },\n    {\n      path: 'sup.total',\n      label: 'Sup. Total',\n      content: unit => (\n        <div className=\"text-center\">{unit.sup.total.toFixed(3)}</div>\n      )\n    },\n    {\n      path: 'coefficient',\n      label: 'Coeficiente',\n      content: unit => (\n        <div className=\"text-center\">{unit.coefficient.toFixed(3)}</div>\n      )\n    }\n  ];\n\n  deleteColumn = {\n    key: 'del',\n    content: unit => (\n      <i\n        onClick={event => this.props.onDelete(unit)}\n        className=\"fa fa-trash red clickable\"\n      />\n    )\n  };\n\n  constructor() {\n    super();\n    const currentUser = auth.getCurrentUser();\n    if (currentUser && currentUser.isAdmin)\n      this.columns.push(this.deleteColumn);\n  }\n\n  render() {\n    const { units, onSort, sortColumn } = this.props;\n    return (\n      <CarbonTable\n        columns={this.columns}\n        data={units}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default UnitsTable;\n","import _ from 'lodash';\n\nexport function paginate(items, pageNumber, pageSize) {\n  const startIndex = (pageNumber - 1) * pageSize;\n\n  return _(items)\n    .slice(startIndex)\n    .take(pageSize)\n    .value();\n}\n","import React, { Component } from 'react';\nimport _ from 'lodash';\nimport { getUnits, deleteUnit } from '../services/unitsService';\nimport SearchBox from './common/SearchBox';\nimport CarbonTableTitle from './common/CarbonTableTitle';\nimport CarbonTablePagination from './common/CarbonTablePagination';\nimport CarbonModal from './common/CarbonModal';\nimport Unauthorized from './common/Unauthorized';\nimport UnitsTable from './UnitsTable';\nimport auth from '../services/authService';\nimport { paginate } from '../utils/paginate';\n\nclass Units extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      units: {},\n      pageSize: 20,\n      currentPage: 1,\n      searchQuery: '',\n      sortColumn: { path: 'fUnit', order: 'asc' },\n      currentUser: auth.getCurrentUser()\n    };\n\n    this.toggleDelete = this.toggleDelete.bind(this);\n  }\n\n  async componentDidMount() {\n    const { data: units } = await getUnits();\n    this.setState({ units });\n  }\n\n  handleDelete = () => {\n    const { selectedUnit } = this.state;\n    const rollback = this.state.units;\n    const units = this.state.units.filter(u => u._id !== selectedUnit._id);\n    this.setState({ units });\n\n    try {\n      deleteUnit(selectedUnit._id);\n    } catch (ex) {\n      this.setState({ units: rollback });\n    }\n    this.toggleDelete();\n  };\n\n  toggleDelete(unit) {\n    this.setState(prevState => ({\n      modal: !prevState.modal,\n      selectedUnit: unit\n    }));\n  }\n  // handleUpdate = async unit => {\n  //   await updateUnit(unit);\n  //   const units = [...this.state.units];\n  //   const index = units.indexOf(unit);\n  //   units[index] = { ...unit };\n  //   this.setState({ units });\n  // };\n\n  handleSort = sortColumn => {\n    this.setState({ sortColumn });\n  };\n\n  handleAddUnit = () => {\n    const { history } = this.props;\n    history.push('/units/new');\n  };\n\n  handlePageSize = event => {\n    this.setState({ pageSize: event.target.value });\n  };\n\n  handlePageChange = (page, arrow, pagesCount) => {\n    const { value } = page.target;\n    let { currentPage } = this.state;\n\n    currentPage = value ? Number(value) : (currentPage += arrow);\n    if (currentPage < 1) currentPage = 1;\n    if (currentPage > pagesCount) currentPage = pagesCount;\n\n    this.setState({ currentPage });\n  };\n\n  handleSearch = query => {\n    this.setState({ searchQuery: query, currentPage: 1 });\n  };\n\n  getPageData = () => {\n    const {\n      units: allUnits,\n      pageSize,\n      currentPage,\n      sortColumn,\n      searchQuery\n    } = this.state;\n\n    let filtered = allUnits;\n\n    if (searchQuery)\n      filtered = allUnits.filter(u =>\n        u.landlord.name.toLowerCase().startsWith(searchQuery.toLowerCase())\n      );\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n\n    const units = paginate(sorted, currentPage, pageSize);\n\n    return {\n      totalCount: filtered.length || 0,\n      data: units\n    };\n  };\n\n  modalBody = unit => {\n    const { fUnit, landlord } = unit;\n    if (!landlord) return null;\n    return (\n      <p className=\"lead\">\n        Se eliminará la unidad <mark>{fUnit}</mark> asignada a{' '}\n        <mark>{landlord.name}</mark>.\n      </p>\n    );\n  };\n\n  modalProps = selectedUnit => ({\n    isOpen: this.state.modal,\n    title: 'Eliminar unidad',\n    label: 'Consortia - Jose Ingenieros 1840',\n    body: selectedUnit && this.modalBody(selectedUnit),\n    cancelBtnLabel: 'Cancelar',\n    submitBtnLabel: 'Eliminar',\n    toggle: this.toggleDelete,\n    submit: this.handleDelete,\n    danger: true\n  });\n\n  render() {\n    const { pageSize, currentPage, sortColumn, searchQuery } = this.state;\n    const { currentUser, selectedUnit } = this.state;\n\n    if (currentUser && !currentUser.isCouncil) return <Unauthorized />;\n\n    const { totalCount, data: units } = this.getPageData();\n\n    return (\n      <div className=\"bx--row\">\n        <div className=\"bx--col\">\n          <CarbonModal {...this.modalProps(selectedUnit)} />\n          <CarbonTableTitle\n            title=\"Unidades\"\n            helper=\"Lista de unidades funcionales y complementarias.\"\n            btnLabel=\"Registrar unidad\"\n            btnClick={this.handleAddUnit}\n            currentUser={currentUser}\n          />\n          <SearchBox value={searchQuery} onChange={this.handleSearch} />\n          <UnitsTable\n            units={units}\n            onDelete={this.toggleDelete}\n            onSort={this.handleSort}\n            sortColumn={sortColumn}\n          />\n          <CarbonTablePagination\n            itemsCount={totalCount}\n            pageSize={pageSize}\n            currentPage={currentPage}\n            onPageSize={this.handlePageSize}\n            onPageChange={this.handlePageChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Units;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CarbonTable from './common/CarbonTable';\nimport auth from '../services/authService';\n\nclass UsersTable extends Component {\n  constructor() {\n    super();\n    this.currentUser = auth.getCurrentUser();\n    if (this.currentUser && this.currentUser.isAdmin)\n      this.columns.push(this.deleteColumn);\n  }\n\n  columns = [\n    {\n      path: 'lastname',\n      label: 'Apellido',\n      content: user => {\n        return this.currentUser.isCouncil ? (\n          <Link to={`/users/${user._id}`}>{user.lastname}</Link>\n        ) : (\n          user.lastname\n        );\n      }\n    },\n    {\n      path: 'firstname',\n      label: 'Nombre'\n    },\n    { path: 'phone', label: 'Telefono' },\n    {\n      path: 'mail',\n      label: 'Mail'\n      // content: user => <Link to={`/users/${user._id}`}>{user.mail}</Link>\n    },\n    {\n      path: 'isCouncil',\n      label: 'Consejo'\n    },\n    {\n      path: 'isLandlord',\n      label: 'Propietario'\n    }\n  ];\n\n  deleteColumn = {\n    key: 'del',\n    content: user => (\n      <i\n        onClick={event => this.props.onDelete(user)}\n        className=\"fa fa-trash red clickable\"\n      />\n    )\n  };\n\n  render() {\n    const { users, onSort, sortColumn } = this.props;\n\n    return (\n      <CarbonTable\n        columns={this.columns}\n        data={users}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default UsersTable;\n","import React, { Component, Fragment } from 'react';\nimport _ from 'lodash';\nimport SearchBox from './common/SearchBox';\nimport CarbonTableTitle from './common/CarbonTableTitle';\nimport CarbonTablePagination from './common/CarbonTablePagination';\nimport CarbonModal from './common/CarbonModal';\nimport UsersTable from './UsersTable';\nimport auth from '../services/authService';\nimport { getUsers, deleteUser } from '../services/usersService';\nimport { paginate } from '../utils/paginate';\n\nclass Users extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: {},\n      pageSize: 10,\n      currentPage: 1,\n      searchQuery: '',\n      sortColumn: { path: 'lastname', order: 'asc' },\n      modal: false\n    };\n\n    this.toggleDelete = this.toggleDelete.bind(this);\n  }\n\n  async componentDidMount() {\n    const { data: users } = await getUsers();\n    this.setState({ users, currentUser: auth.getCurrentUser() });\n  }\n\n  handleDelete = () => {\n    const { selectedUser } = this.state;\n    const rollback = this.state.users;\n    const users = this.state.users.filter(u => u._id !== selectedUser._id);\n    this.setState({ users });\n\n    try {\n      deleteUser(selectedUser._id);\n    } catch (ex) {\n      this.setState({ users: rollback });\n    }\n    this.toggleDelete();\n  };\n\n  handleSort = sortColumn => {\n    this.setState({ sortColumn });\n  };\n\n  handleAddUser = () => {\n    const { history } = this.props;\n    history.push('/register');\n  };\n\n  handlePageSize = event => {\n    this.setState({ pageSize: event.target.value });\n  };\n\n  handlePageChange = (page, arrow, pagesCount) => {\n    const { value } = page.target;\n    let { currentPage } = this.state;\n\n    currentPage = value ? Number(value) : (currentPage += arrow);\n    if (currentPage < 1) currentPage = 1;\n    if (currentPage > pagesCount) currentPage = pagesCount;\n\n    this.setState({ currentPage });\n  };\n\n  handleSearch = query => {\n    this.setState({ searchQuery: query, currentPage: 1 });\n  };\n\n  getPageData = () => {\n    const {\n      users: allUsers,\n      pageSize,\n      currentPage,\n      sortColumn,\n      searchQuery\n    } = this.state;\n\n    let filtered = allUsers;\n\n    if (searchQuery)\n      filtered = allUsers.filter(u =>\n        u.lastname.toLowerCase().startsWith(searchQuery.toLowerCase())\n      );\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n\n    const users = paginate(sorted, currentPage, pageSize);\n\n    return {\n      totalCount: filtered.length || 0,\n      data: users\n    };\n  };\n\n  toggleDelete(user) {\n    this.setState(prevState => ({\n      modal: !prevState.modal,\n      selectedUser: user\n    }));\n  }\n\n  modalBody = user => {\n    const { lastname } = user;\n    return (\n      <p className=\"lead\">\n        Se eliminará el usuario <mark>{lastname}</mark>.\n      </p>\n    );\n  };\n\n  modalProps = selectedUser => ({\n    isOpen: this.state.modal,\n    title: 'Eliminar usuario',\n    label: 'Consortia - Jose Ingenieros 1840',\n    body: selectedUser && this.modalBody(selectedUser),\n    cancelBtnLabel: 'Cancelar',\n    submitBtnLabel: 'Eliminar',\n    toggle: this.toggleDelete,\n    submit: this.handleDelete,\n    danger: true\n  });\n\n  render() {\n    const { pageSize, currentPage, sortColumn, searchQuery } = this.state;\n\n    const { currentUser, selectedUser } = this.state;\n    const { totalCount, data: users } = this.getPageData();\n\n    return (\n      <Fragment>\n        <CarbonModal {...this.modalProps(selectedUser)} />\n        <CarbonTableTitle\n          title=\"Usuarios\"\n          helper=\"Lista de usuarios registrados.\"\n          btnLabel=\"Registrar usuario\"\n          btnClick={this.handleAddUser}\n          currentUser={currentUser}\n        />\n        <div className=\"bx--row\">\n          <div className=\"bx--col\">\n            <SearchBox value={searchQuery} onChange={this.handleSearch} />\n            <UsersTable\n              users={users}\n              onDelete={this.toggleDelete}\n              onSort={this.handleSort}\n              sortColumn={sortColumn}\n            />\n            <CarbonTablePagination\n              itemsCount={totalCount}\n              pageSize={pageSize}\n              currentPage={currentPage}\n              onPageSize={this.handlePageSize}\n              onPageChange={this.handlePageChange}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Users;\n","import React, { Fragment } from 'react';\nimport Joi from 'joi-browser';\nimport { toast } from 'react-toastify';\nimport Form from './common/Form';\nimport { getUser, saveUser } from '../services/usersService';\nimport auth from '../services/authService';\n\nclass UsersForm extends Form {\n  state = {\n    data: {\n      lastname: '',\n      firstname: '',\n      mail: '',\n      phone: '',\n      notes: '',\n      balance: 0,\n      isCouncil: false,\n      isLandlord: false,\n      pwdCurrent: '',\n      pwdNew: '',\n      pwdNew2: ''\n    },\n    errors: {},\n    currentUser: ''\n  };\n\n  schema = {\n    _id: Joi.string(),\n    lastname: Joi.string()\n      .max(50)\n      .label('Apellido'),\n    firstname: Joi.string()\n      .max(50)\n      .label('Nombre'),\n    mail: Joi.string()\n      .min(5)\n      .max(255)\n      .email()\n      .required()\n      .label('Mail'),\n    phone: Joi.string()\n      .max(30)\n      .allow('')\n      .label('Telefono'),\n    notes: Joi.string()\n      .max(500)\n      .allow('')\n      .label('Notas'),\n    balance: Joi.number().label('Balance'),\n    isCouncil: Joi.boolean().label('Consejo'),\n    isLandlord: Joi.boolean().label('Propietario'),\n    pwdCurrent: Joi.string()\n      .max(30)\n      .allow(''),\n    pwdNew: Joi.string()\n      .max(30)\n      .allow(''),\n    pwdNew2: Joi.string()\n      .max(30)\n      .allow('')\n  };\n\n  async populateUser() {\n    try {\n      const userId = this.props.match.params.id;\n      if (userId === 'new') return;\n      const { data: user } = await getUser(userId);\n      const currentUser = auth.getCurrentUser();\n      this.setState({ data: this.mapToViewModel(user), currentUser });\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        return this.props.history.replace('/not-found');\n    }\n  }\n\n  async componentDidMount() {\n    await this.populateUser();\n  }\n\n  mapToViewModel(user) {\n    return {\n      _id: user._id,\n      lastname: user.lastname || '',\n      firstname: user.firstname || '',\n      mail: user.mail,\n      phone: user.phone || '',\n      notes: user.notes || '',\n      balance: user.balance,\n      isCouncil: user.isCouncil || false,\n      isLandlord: user.isLandlord || false,\n      pwdCurrent: '',\n      pwdNew: '',\n      pwdNew2: ''\n    };\n  }\n\n  doSubmit = async () => {\n    const user = { ...this.state.data };\n\n    try {\n      await this.parsePassword(user);\n      await saveUser(user);\n      toast.success(`Los datos se guardaron exitosamente. ✔️`, {\n        position: 'top-center'\n      });\n      const { history } = this.props;\n      history.push('/users');\n    } catch (ex) {\n      console.log(ex.response.data);\n    }\n  };\n\n  async parsePassword(user) {\n    const { pwdCurrent, pwdNew, pwdNew2 } = this.state.data;\n\n    //eliminar pwd***\n    delete user.pwdCurrent;\n    delete user.pwdNew;\n    delete user.pwdNew2;\n\n    //Si new1 o new2 no se cargan, se ignora el cambio de clave.\n    if (pwdNew === '' || pwdNew2 === '') return null;\n\n    //validar password\n    await auth.checkLogin(user.mail, pwdCurrent);\n\n    //validar new1 y new2\n    if (pwdNew === '' || pwdNew !== pwdNew2) {\n      toast.error(`⚠️ Verifique la clave nueva y su repetición.`);\n      return null;\n    }\n\n    user.password = pwdNew;\n  }\n\n  columnsUnits = [\n    { path: 'fUnit', label: 'Unidad' },\n    { path: 'floor', label: 'Piso' },\n    { path: 'flat', label: 'Rótulo' },\n    {\n      path: 'sup.total',\n      label: 'Superficie',\n      content: u => (\n        <p>\n          {u.sup.total}m<sup>2</sup>\n        </p>\n      )\n    },\n    {\n      path: 'coefficient',\n      label: 'Coeficiente'\n    }\n  ];\n\n  renderAdmin(currentUser) {\n    if (!currentUser.isCouncil) return null;\n\n    return (\n      <Fragment>\n        <div className=\"bx--row\">\n          <div className=\"bx--col\">\n            {this.renderCheck('isCouncil', 'Es miembro del consejo ')}\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--col\">\n            {this.renderCheck('isLandlord', 'Es propietario')}\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    const { currentUser } = this.state;\n    const { pwdCurrent, pwdNew, pwdNew2 } = this.state.data;\n    console.log(pwdCurrent, pwdNew, pwdNew2);\n    return (\n      <div className=\"bx--grid cc--users-form\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">\n              <div className=\"bx--row\">\n                <div className=\"bx--col\">\n                  {this.renderInput('lastname', 'Apellido')}\n                </div>\n              </div>\n              <div className=\"bx--row\">\n                <div className=\"bx--col\">\n                  {this.renderInput('firstname', 'Nombre(s)')}\n                </div>\n              </div>\n              <div className=\"bx--row\">\n                <div className=\"bx--col\">\n                  {this.renderInput('mail', 'Mail')}\n                </div>\n              </div>\n              <div className=\"bx--row\">\n                <div className=\"bx--col\">\n                  {this.renderInput('phone', 'Telefono')}\n                </div>\n              </div>\n              <div className=\"bx--row\">\n                <div className=\"bx--col\">\n                  {this.renderTextArea('notes', 'Notas')}\n                </div>\n              </div>\n              {this.renderAdmin(currentUser)}\n              <div className=\"bx--row\">\n                <div className=\"bx--col\">{this.renderButton('Guardar')}</div>\n              </div>\n            </div>\n            <div className=\"bx--col\">\n              {this.renderInput('pwdCurrent', 'Clave actual', 'password')}\n              {this.renderInput('pwdNew', 'Clave nueva', 'password')}\n              {this.renderInput('pwdNew2', 'Clave nueva ', 'password')}\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default UsersForm;\n","import _ from 'lodash';\n\nconst today = new Date();\nexport const monthLabels = [\n  'Enero',\n  'Febrero',\n  'Marzo',\n  'Abril',\n  'Mayo',\n  'Junio',\n  'Julio',\n  'Agosto',\n  'Septiembre',\n  'Octubre',\n  'Noviembre',\n  'Diciembre'\n];\n\nexport function paginate(items, pageNumber, pageSize) {\n  const startIndex = (pageNumber - 1) * pageSize;\n\n  return _(items)\n    .slice(startIndex)\n    .take(pageSize)\n    .value();\n}\n\nexport function getCurrentPeriod(e = 0) {\n  // return `${monthLabels[today.getMonth()]} ${today.getFullYear()}`;\n  const month = monthLabels[today.getMonth() - e];\n  const year = today.getFullYear() - (month === 'Diciembre' ? 1 : 0);\n\n  return {\n    year,\n    month\n  };\n}\n\nexport function getPeriod(day, minus) {\n  return `${monthLabels[day.getMonth() - minus]} ${day.getFullYear()}`;\n}\n\nexport function getLastPeriod(day) {\n  return `${monthLabels[day.getMonth() - 1]} ${day.getFullYear()}`;\n}\n\nexport function getLastXMonths(n = 12, e = 0) {\n  let d;\n  let xMonths = [];\n\n  for (let i = 0 + e; i < n; i += 1) {\n    d = new Date(today.getFullYear(), today.getMonth() - i, 1);\n    let period = `${monthLabels[d.getMonth()]} ${d.getFullYear()}`;\n    xMonths.push(period);\n  }\n  return xMonths;\n}\n\nexport function getLastXYears(n = 12) {\n  let d;\n  let xMonths = [];\n\n  for (let i = 0; i < n; i += 1) {\n    d = new Date(today.getFullYear() - i, today.getMonth(), 1);\n    let period = `${d.getFullYear()}`;\n    xMonths.push(period);\n  }\n  return xMonths;\n}\n\nexport function formatDate(date) {\n  // let options = {\n  //   weekday: 'long',\n  //   year: 'numeric',\n  //   month: 'long',\n  //   day: 'numeric'\n  // };\n  return new Date(date).toLocaleDateString('en-GB'); // 9/17/2016\n}\n\nexport default {\n  paginate,\n  getCurrentPeriod,\n  getLastXMonths,\n  getLastXYears,\n  getPeriod,\n  formatDate,\n  monthLabels\n};\n","// Create our number formatter.\nexport function currency(ammount) {\n  const formatter = new Intl.NumberFormat('es-AR', {\n    style: 'currency',\n    currency: 'ARS'\n  });\n  return formatter.format(ammount);\n}\n","import React, { Component } from 'react';\nimport CarbonTable from './common/CarbonTable';\nimport auth from '../services/authService';\nimport { formatDate } from '../utils/dates';\nimport { currency } from '../utils/formatter';\n\nclass ExpensesTable extends Component {\n  columns = [\n    {\n      path: 'concept',\n      label: 'Concepto'\n    },\n    {\n      path: 'period',\n      label: 'Periodo',\n      content: expense => <div className=\"text-center\">{expense.period}</div>\n    },\n    {\n      path: 'category',\n      label: 'Categoría',\n      content: expense => <div className=\"text-center\">{expense.category}</div>\n    },\n    {\n      path: 'type',\n      label: 'Tipo',\n      content: expense => <div className=\"text-center\">{expense.type}</div>\n    },\n    {\n      path: 'ammount',\n      label: 'Importe',\n      content: expense => (\n        <div className=\"text-right\">{currency(expense.ammount)}</div>\n      )\n    },\n    {\n      path: 'date',\n      label: 'Fecha',\n      content: expense => (\n        <div className=\"text-center\">{formatDate(expense.date)}</div>\n      )\n    },\n    {\n      path: 'userId',\n      label: 'Registrante',\n      content: expense => (\n        <div className=\"text-center\">{expense.userId.lastname}</div>\n      )\n    }\n  ];\n\n  deleteColumn = {\n    key: 'del',\n    content: expense => (\n      <i\n        onClick={event => this.props.onDelete(expense)}\n        className=\"fa fa-trash red\"\n      />\n    )\n  };\n\n  constructor() {\n    super();\n    const currentUser = auth.getCurrentUser();\n    if (currentUser && currentUser.isAdmin)\n      this.columns.push(this.deleteColumn);\n  }\n\n  render() {\n    const { expenses, onSort, sortColumn } = this.props;\n\n    return (\n      <CarbonTable\n        columns={this.columns}\n        data={expenses}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default ExpensesTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\n\nconst Pagination = ({ itemsCount, pageSize, currentPage, onPageChange }) => {\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  const pages = _.range(1, pagesCount + 1);\n\n  if (pagesCount === 1) return null;\n\n  return (\n    <nav>\n      <ul className=\"pagination\">\n        {pages.map(page => (\n          <li\n            className={page === currentPage ? 'page-item active' : 'page-item'}\n            key={page}\n          >\n            <button className=\"page-link\" onClick={() => onPageChange(page)}>\n              {page}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nPagination.propTypes = {\n  itemsCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired\n};\n\nexport default Pagination;\n","import http from './httpService';\n\nconst apiEndpoint = '/expenses';\n\nfunction expUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport async function getTotalExpenses(period) {\n  const { data } = await http.get(`${apiEndpoint}/period/${period}`);\n\n  let totalA = 0;\n  let totalB = 0;\n  data.length !== 0 &&\n    data !== null &&\n    data.forEach(element => {\n      if (element._id === 'A') totalA = element.total;\n      if (element._id === 'B') totalB = element.total;\n    });\n\n  return { totalA, totalB };\n}\n\nexport function getExpenses() {\n  return http.get(apiEndpoint);\n}\nexport function getExpensesByPeriod(period) {\n  return http.get(`${apiEndpoint}/period/${period}`);\n}\n\nexport function getExpensesTotalByPeriod(period) {\n  return http.get(`${apiEndpoint}/total/${period}`);\n}\n\nexport function getExpense(expId) {\n  return http.get(expUrl(expId));\n}\n\nexport function deleteExpense(expId) {\n  return http.delete(expUrl(expId));\n}\n\nexport function saveExpense(exp) {\n  if (exp._id) {\n    const body = { ...exp };\n    delete body._id;\n    return http.put(expUrl(exp._id), body);\n  }\n  return http.post(apiEndpoint, exp);\n}\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport _ from 'lodash';\nimport ExpensesTable from './ExpensesTable';\nimport Pagination from './common/Pagination';\nimport auth from '../services/authService';\nimport { getExpenses, deleteExpense } from '../services/expensesService';\nimport { paginate } from '../utils/paginate';\nimport { getCurrentPeriod } from '../utils/dates';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass CurrentMonth extends Component {\n  state = {\n    expenses: {},\n    pageSize: 15,\n    currentPage: 1,\n    searchQuery: '',\n    selectedPeriod: null,\n    sortColumn: { path: 'type', order: 'asc' },\n    year: getCurrentPeriod().year,\n    month: getCurrentPeriod().month\n  };\n\n  async componentDidMount() {\n    //populate expenses of current month\n    //populate payments of current month\n    const { data: expenses } = await getExpenses();\n    this.setState({ expenses, user: auth.getCurrentUser() });\n  }\n\n  handleDelete = expense => {\n    const rollback = this.state.expenses;\n    const expenses = this.state.expenses.filter(u => u._id !== expense._id);\n    this.setState({ expenses });\n\n    try {\n      deleteExpense(expense._id);\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404) {\n        toast('Something failed!');\n        this.setState({ expenses: rollback });\n      }\n    }\n  };\n\n  handleSort = sortColumn => {\n    this.setState({ sortColumn });\n  };\n\n  handlePageChange = page => {\n    this.setState({ currentPage: page });\n  };\n\n  getPageData = () => {\n    const {\n      expenses: allExpenses,\n      pageSize,\n      currentPage,\n      sortColumn\n    } = this.state;\n\n    let filtered = allExpenses;\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n    const expenses = paginate(sorted, currentPage, pageSize);\n\n    return {\n      totalCount: filtered.length || 0,\n      data: expenses\n    };\n  };\n\n  render() {\n    const { pageSize, currentPage, sortColumn } = this.state;\n    const { user } = this.state;\n\n    if (user && !user.isAdmin)\n      return (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          Acceso no autorizado.\n        </div>\n      );\n\n    const { totalCount, data: expenses } = this.getPageData();\n\n    const period = `${getCurrentPeriod().month} ${getCurrentPeriod().year} `;\n    return (\n      <React.Fragment>\n        <div className=\"row\">\n          <h3>\n            {period}\n            <small className=\"text-muted\"> expensas</small>\n          </h3>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <ToastContainer />\n            <p className=\"h6\">Detalle de Gastos</p>\n            <ExpensesTable\n              expenses={expenses}\n              onDelete={this.handleDelete}\n              onSort={this.handleSort}\n              sortColumn={sortColumn}\n              viewOnly={true}\n            />\n            <Pagination\n              itemsCount={totalCount}\n              pageSize={pageSize}\n              currentPage={currentPage}\n              onPageChange={this.handlePageChange}\n            />\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"col\" />\n          <div className=\"col\" />\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">Saldo Ordinario</div>\n          <div className=\"col\">\n            <span className=\"badge badge-info\">New</span>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">Recaudación Expensas Ordinarias</div>\n          <div className=\"col\">\n            <span className=\"badge badge-info\">New</span>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">Erogaciones</div>\n          <div className=\"col\">\n            <span className=\"badge badge-danger\">New</span>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">Nuevo Saldo Ordinario</div>\n          <div className=\"col\">\n            <span className=\"badge badge-primary\">New</span>\n          </div>\n        </div>\n        <div className=\"row\" />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default CurrentMonth;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CarbonTable from './common/CarbonTable';\nimport auth from '../services/authService';\nimport { currency } from '../utils/formatter';\n\nclass PeriodsTable extends Component {\n  constructor() {\n    super();\n    this.currentUser = auth.getCurrentUser();\n\n    if (this.currentUser && this.currentUser.isCouncil)\n      this.columns.push(this.isClosedColumn);\n\n    if (this.currentUser && this.currentUser.isAdmin)\n      this.columns.push(this.deleteColumn);\n  }\n\n  columns = [\n    {\n      path: 'period',\n      label: 'Periodo',\n      content: period => (\n        <Link to={`/periods/${period._id}`}>{period.period}</Link>\n      )\n    },\n    {\n      path: 'totalA',\n      label: 'Expensas A',\n      content: p => <div className=\"text-right\">{currency(p.expensesA)}</div>\n    },\n    {\n      path: 'totalIncome',\n      label: 'Ingresos A',\n      content: p => <div className=\"text-right\">{currency(p.incomeA)}</div>\n    },\n    {\n      path: 'balanceA',\n      label: 'Saldo A',\n      content: p => (\n        <div\n          className={`text-right ${\n            p.balanceA > 0 ? 'table-success' : 'table-danger'\n          }`}\n        >\n          {currency(p.balanceA)}\n        </div>\n      )\n    },\n    {\n      path: 'totalB',\n      label: 'Expensas B',\n      content: p => <div className=\"text-right\">{currency(p.expensesB)}</div>\n    },\n    {\n      path: 'totalExpenses',\n      label: 'Ingresos B',\n      content: p => <div className=\"text-right\">{currency(p.incomeB)}</div>\n    },\n    {\n      path: 'balanaceB',\n      label: 'Saldo B',\n      content: p => (\n        <div\n          className={`text-right ${\n            p.balanceB > 0 ? 'table-success' : 'table-danger'\n          }`}\n        >\n          {currency(p.balanceB)}\n        </div>\n      )\n    },\n    {\n      path: 'balance',\n      label: 'Saldo Total',\n      content: p => (\n        <div\n          className={`text-right ${\n            p.balance > 0 ? 'table-success' : 'table-danger'\n          }`}\n        >\n          {currency(p.balance)}\n        </div>\n      )\n    }\n  ];\n\n  isClosedColumn = {\n    path: 'isClosed',\n    label: 'Cerrado',\n    key: 'cls',\n    content: p => (\n      <div className=\"text-center\">\n        <i\n          className={`fa ${\n            p.isClosed ? 'fa fa-check-square-o' : 'fa fa-square-o'\n          }`}\n          aria-hidden=\"true\"\n          onClick={event => this.props.onClosePeriod(p)}\n        />\n      </div>\n    )\n  };\n\n  deleteColumn = {\n    key: 'del',\n    content: period => (\n      <i\n        onClick={event => this.props.onDelete(period)}\n        className=\"fa fa-trash red clickable\"\n      />\n    )\n  };\n\n  render() {\n    const { periods, onSort, sortColumn } = this.props;\n\n    return (\n      <CarbonTable\n        columns={this.columns}\n        data={periods}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default PeriodsTable;\n","import http from './httpService';\n\nconst apiEndpoint = '/periods';\n\nfunction url(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getPeriods() {\n  return http.get(apiEndpoint);\n}\n\nexport function getPeriod(periodId) {\n  return http.get(url(periodId));\n}\n\nexport function deletePeriod(periodId) {\n  return http.delete(url(periodId));\n}\n\nexport function savePeriod(period) {\n  const body = { ...period };\n  delete body._id;\n  return http.put(url(period._id), body);\n}\n\nexport function initPeriod(period) {\n  return http.post(apiEndpoint, period);\n}\n","import React, { Component, Fragment } from 'react';\nimport { toast } from 'react-toastify';\nimport _ from 'lodash';\nimport SearchBox from './common/SearchBox';\nimport CarbonTableTitle from './common/CarbonTableTitle';\nimport CarbonTablePagination from './common/CarbonTablePagination';\nimport CarbonModal from './common/CarbonModal';\nimport auth from '../services/authService';\nimport PeriodsTable from './PeriodsTable';\nimport {\n  getPeriods,\n  deletePeriod,\n  savePeriod\n} from '../services/periodsService.js';\nimport { paginate } from '../utils/paginate';\nimport { getLastXMonths, getLastPeriod } from '../utils/dates';\nimport Select from './common/Select';\n\nclass Periods extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      periods: [],\n      pageSize: 10,\n      currentPage: 1,\n      searchQuery: '',\n      delModal: false,\n      newModal: false,\n      clsModal: false,\n      sortColumn: { path: 'date', order: 'dec' },\n      period: getLastPeriod(new Date())\n    };\n\n    this.toggleDelete = this.toggleDelete.bind(this);\n    this.toggleNewPeriod = this.toggleNewPeriod.bind(this);\n    this.toggleClsPeriod = this.toggleClsPeriod.bind(this);\n  }\n\n  toggleDelete(period) {\n    this.setState(prevState => ({\n      delModal: !prevState.delModal,\n      selectedPeriod: period\n    }));\n  }\n\n  toggleNewPeriod() {\n    this.setState(prevState => ({\n      newModal: !prevState.newModal\n    }));\n  }\n\n  toggleClsPeriod(period) {\n    this.setState(prevState => ({\n      clsModal: !prevState.clsModal,\n      selectedPeriod: period\n    }));\n  }\n\n  async componentDidMount() {\n    const { data: periods } = await getPeriods();\n\n    this.setState({ periods, currentUser: auth.getCurrentUser() });\n  }\n\n  handleDelete = period => {\n    const { selectedPeriod } = this.state;\n    const { periods: rollback } = this.state;\n\n    const periods = this.state.periods.filter(\n      u => u._id !== selectedPeriod._id\n    );\n\n    this.setState({ periods });\n\n    try {\n      deletePeriod(selectedPeriod._id);\n    } catch (ex) {\n      this.setState({ expenses: rollback });\n    }\n    this.toggleDelete();\n  };\n\n  handleSort = sortColumn => {\n    this.setState({ sortColumn });\n  };\n\n  handleNewPeriod = () => {\n    const { period, periods } = this.state;\n\n    if (periods.find(p => p.period === period)) {\n      toast.error(`⚠️ El período ya ha sido iniciado.`);\n      this.toggleNewPeriod();\n      return;\n    }\n\n    this.toggleNewPeriod();\n    const { history } = this.props;\n    history.push(`/periods/new/${period}`);\n  };\n\n  handleClsPeriod = async () => {\n    const { periods: rollback } = this.state;\n    const { selectedPeriod, periods } = this.state;\n\n    try {\n      const period = this.mapToMongoModel({ ...selectedPeriod });\n      const item = periods.find(d => d._id === period._id);\n\n      if (item.isClosed)\n        throw new Error('⚠️ Un período cerrado no puede reabrirse.');\n\n      item.isClosed = !item.isClosed;\n      period.isClosed = item.isClosed;\n      await savePeriod(period);\n    } catch (ex) {\n      toast.error(ex.message);\n      this.setState({ periods: rollback });\n    }\n    this.toggleClsPeriod(selectedPeriod);\n  };\n\n  mapToMongoModel(period) {\n    //DEpopulate userId\n    delete period.date;\n    delete period.__v;\n    delete period.balanceA;\n    delete period.balanceB;\n    delete period.balance;\n    period.userId = period.userId._id;\n    return period;\n  }\n\n  handlePageSize = event => {\n    this.setState({ pageSize: event.target.value });\n  };\n\n  handlePageChange = (page, arrow, pagesCount) => {\n    const { value } = page.target;\n    let { currentPage } = this.state;\n\n    currentPage = value ? Number(value) : (currentPage += arrow);\n    if (currentPage < 1) currentPage = 1;\n    if (currentPage > pagesCount) currentPage = pagesCount;\n\n    this.setState({ currentPage });\n  };\n\n  handleSearch = query => {\n    this.setState({ searchQuery: query, currentPage: 1 });\n  };\n\n  getPageData = () => {\n    const {\n      periods: allPeriods,\n      pageSize,\n      currentPage,\n      sortColumn,\n      searchQuery\n    } = this.state;\n\n    if (!allPeriods) return;\n\n    let filtered = allPeriods;\n\n    filtered.map((period, ind) => {\n      period.balanceA = period.incomeA - period.expensesA;\n      period.balanceB = period.incomeB - period.expensesB;\n      period.balance = period.balanceA + period.balanceB;\n      return null;\n    });\n\n    if (searchQuery) {\n      filtered = allPeriods.filter(u =>\n        u.period.toLowerCase().startsWith(searchQuery.toLowerCase())\n      );\n    }\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n    const periods = paginate(sorted, currentPage, pageSize);\n    return {\n      totalCount: filtered.length || 0,\n      data: periods\n    };\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    this.setState({ period: input.value });\n  };\n\n  modalBodyNew = period => {\n    return (\n      <Fragment>\n        <p className=\"lead\">Se dará inicio al período indicado:</p>\n        <Select\n          name={period}\n          value={period}\n          label=\"Período\"\n          options={getLastXMonths(12, 1)}\n          onChange={this.handleChange}\n        />\n      </Fragment>\n    );\n  };\n\n  modalPropsNew = () => {\n    const { period, newModal } = this.state;\n    return {\n      isOpen: newModal,\n      title: 'Inicio de período',\n      label: 'Consortia - Jose Ingenieros 1840',\n      body: this.modalBodyNew(period),\n      cancelBtnLabel: 'Cancelar',\n      submitBtnLabel: 'Iniciar',\n      toggle: this.toggleNewPeriod,\n      submit: this.handleNewPeriod\n    };\n  };\n\n  modalBodyDel = period => {\n    return <p className=\"lead\">Se eliminará el período {period}</p>;\n  };\n\n  modalPropsDel = () => {\n    const { period, delModal } = this.state;\n    return {\n      isOpen: delModal,\n      title: 'Eliminar período',\n      label: 'Consortia - Jose Ingenieros 1840',\n      body: this.modalBodyDel(period),\n      cancelBtnLabel: 'Cancelar',\n      submitBtnLabel: 'Eliminar',\n      toggle: this.toggleDelete,\n      submit: this.handleDelete,\n      danger: true\n    };\n  };\n\n  modalBodyClose = period => {\n    return (\n      <p className=\"lead\">\n        Se cerrará el periodo <mark>{period}</mark>. De existir alguna expensa\n        sin pagar se registará la deuda correspondiente, y se actualizarán los\n        saldos del consorcio.\n      </p>\n    );\n  };\n\n  modalPropsClose = () => {\n    const { period, clsModal } = this.state;\n    return {\n      isOpen: clsModal,\n      title: 'Cerrar período',\n      label: 'Consortia - Jose Ingenieros 1840',\n      body: this.modalBodyClose(period),\n      cancelBtnLabel: 'Cancelar',\n      submitBtnLabel: 'Cerrar',\n      toggle: this.toggleClsPeriod,\n      submit: this.handleClsPeriod,\n      danger: true\n    };\n  };\n\n  render() {\n    const { user } = this.state;\n    if (user && !user.isAdmin)\n      return (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          Acceso no autorizado.\n        </div>\n      );\n\n    const { currentUser } = this.state;\n    const { pageSize, currentPage, sortColumn, searchQuery } = this.state;\n    const { totalCount, data: periods } = this.getPageData();\n\n    return (\n      <Fragment>\n        <CarbonModal {...this.modalPropsNew()} />\n        <CarbonModal {...this.modalPropsDel()} />\n        <CarbonModal {...this.modalPropsClose()} />\n        <div className=\"bx--row\">\n          <div className=\"bx--col\">\n            <CarbonTableTitle\n              title=\"Expensas\"\n              helper=\"Lista de liquidaciones de expensas registradas.\"\n              btnLabel=\"Iniciar período\"\n              btnClick={this.toggleNewPeriod}\n              currentUser={currentUser}\n            />\n            <SearchBox value={searchQuery} onChange={this.handleSearch} />\n            <PeriodsTable\n              periods={periods}\n              onDelete={this.toggleDelete}\n              onClosePeriod={this.toggleClsPeriod}\n              onSort={this.handleSort}\n              sortColumn={sortColumn}\n            />\n            <CarbonTablePagination\n              itemsCount={totalCount}\n              pageSize={pageSize}\n              currentPage={currentPage}\n              onPageSize={this.handlePageSize}\n              onPageChange={this.handlePageChange}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Periods;\n","import React from 'react';\nimport _ from 'lodash';\nimport { currency } from '../utils/formatter';\n\nconst ExpensesStats = ({ expenses, period }) => {\n  // const { data } = expenses;\n  const expA = expenses.filter(e => e.type === 'A');\n  const expB = expenses.filter(e => e.type === 'B');\n\n  const sorted = _.orderBy(expA, ['category'], ['asc']);\n  const grouped = _.groupBy(sorted, 'category');\n\n  const totalA = sorted.reduce((acum, current) => (acum += current.ammount), 0);\n  const totalB = expB.reduce((acum, current) => (acum += current.ammount), 0);\n\n  return (\n    <React.Fragment>\n      <div className=\"\">\n        <table className=\"table table-sm table-hover table-14\">\n          <thead>\n            <tr>\n              <th scope=\"col\">{`Detalle de gastos ordinarios ${period}`}</th>\n              <th scope=\"col\" className=\"text-right\">\n                Totales\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {Object.keys(grouped).map((key, ind) => {\n              const subtotal = grouped[key].reduce(\n                (acum, current) => (acum += current.ammount),\n                0\n              );\n              return (\n                <React.Fragment key={ind}>\n                  <tr>\n                    <td>\n                      <strong>{key}</strong>\n                    </td>\n                    <td />\n                  </tr>\n                  {grouped[key].map((exp, ind) => {\n                    return (\n                      <tr key={ind}>\n                        <td>{exp.concept}</td>\n                        <td className=\"text-right\">{currency(exp.ammount)}</td>\n                      </tr>\n                    );\n                  })}\n                  <tr>\n                    <td>\n                      <mark>\n                        <em>{`Total ${key}`}</em>\n                      </mark>\n                    </td>\n                    <td className=\"text-right\">\n                      <mark>\n                        <em>{currency(subtotal)}</em>\n                      </mark>\n                    </td>\n                  </tr>\n                </React.Fragment>\n              );\n            })}\n            <tr className=\"table-secondary\">\n              <td>\n                <strong>\n                  <em>{`Total gastos ordinarios`}</em>\n                </strong>\n              </td>\n              <td className=\"text-right\">\n                <strong>\n                  <em>{currency(totalA)}</em>\n                </strong>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <table className=\"table table-sm table-hover table-14\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Detalle de gastos extraordinarios</th>\n              <th scope=\"col\" />\n            </tr>\n          </thead>\n          <tbody>\n            {expB.map((exp, ind) => {\n              return (\n                <tr key={ind}>\n                  <td>{exp.concept}</td>\n                  <td className=\"text-right\">{currency(exp.ammount)}</td>\n                </tr>\n              );\n            })}\n            <tr className=\"table-secondary\">\n              <td>\n                <strong>\n                  <em>{`Total gastos extraordinarios`}</em>\n                </strong>\n              </td>\n              <td className=\"text-right\">\n                <strong>\n                  <em>{currency(totalB)}</em>\n                </strong>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <table className=\"table table-sm table-hover table-14\">\n          <tbody>\n            <tr className=\"table-primary\">\n              <td>\n                <strong>\n                  <em>{`Total gastos del período`}</em>\n                </strong>\n              </td>\n              <td className=\"text-right\">\n                <strong>\n                  <em>{currency(totalA + totalB)}</em>\n                </strong>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default ExpensesStats;\n","import React from 'react';\nimport _ from 'lodash';\nimport { currency } from '../utils/formatter';\n\nconst headers = [\n  'Unidad',\n  'Coef.',\n  'Propietario',\n  'Importe',\n  'Deuda',\n  'Interés',\n  'Importe',\n  'Deuda',\n  'Interés',\n  'Total'\n];\n\nconst ExpensesDetails = ({ details, period }) => {\n  const sorted = _.sortBy(details, 'model.label', 'asc');\n\n  const subtExpenseA = sorted.reduce(\n    (acum, current) => (acum += current.expenseA),\n    0\n  );\n  const subtDebtA = sorted.reduce(\n    (acum, current) => (acum += current.debtA),\n    0\n  );\n  const subtIntA = sorted.reduce((acum, current) => (acum += current.intA), 0);\n\n  const subtExpenseB = sorted.reduce(\n    (acum, current) => (acum += current.expenseB),\n    0\n  );\n  const subtDebtB = sorted.reduce(\n    (acum, current) => (acum += current.debtB),\n    0\n  );\n  const subtIntB = sorted.reduce((acum, current) => (acum += current.intB), 0);\n\n  const total =\n    subtExpenseA + subtDebtA + subtIntA + subtExpenseB + subtDebtB + subtIntB;\n  const totCoef = sorted.reduce(\n    (acum, current) => (acum += current.model.coefficient),\n    0\n  );\n\n  return (\n    <React.Fragment>\n      <div className=\"mt-5\">\n        <table className=\"table table-sm table-hover table-10\">\n          <caption>{`Expensas ${period}`}</caption>\n          <thead>\n            <tr>\n              <th colSpan=\"3\">{`Detalle de expensas del período ${period}`}</th>\n              <th\n                colSpan=\"3\"\n                className=\"text-monospace text-center table-active\"\n              >\n                Expensas A\n              </th>\n              <th\n                colSpan=\"3\"\n                className=\"text-monospace text-center table-secondary\"\n              >\n                Expensas B\n              </th>\n              <th />\n            </tr>\n          </thead>\n          <thead>\n            <tr>\n              {headers.map((header, ind) => (\n                <th\n                  scope=\"col\"\n                  key={ind}\n                  className=\"text-monospace text-center\"\n                >\n                  {header}\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {sorted.map((d, ind) => {\n              const expenseTotal =\n                d.expenseA + d.debtA + d.intA + d.expenseB + d.debtB + d.intB;\n              return (\n                <tr key={ind}>\n                  <th scope=\"col\" className=\"text-center\">\n                    {d.model.label}\n                  </th>\n                  <td className=\"text-monospace text-center\">\n                    {Number(d.model.coefficient * 100).toFixed(2)}\n                  </td>\n                  <td>{d.model.landlord.lastname}</td>\n                  <td className=\"text-monospace text-right table-active\">\n                    {currency(d.expenseA)}\n                  </td>\n                  <td className=\"text-monospace text-right table-active\">\n                    {currency(d.debtA)}\n                  </td>\n                  <td className=\"text-monospace text-right table-active\">\n                    {currency(d.intA)}\n                  </td>\n                  <td className=\"text-monospace text-right table-secondary\">\n                    {currency(d.expenseB)}\n                  </td>\n                  <td className=\"text-monospace text-right table-secondary\">\n                    {currency(d.debtB)}\n                  </td>\n                  <td className=\"text-monospace text-right table-secondary\">\n                    {currency(d.intB)}\n                  </td>\n                  <td className=\"text-monospace text-right\">\n                    {currency(expenseTotal)}\n                  </td>\n                </tr>\n              );\n            })}\n            <tr>\n              <th scope=\"col\" className=\"text-monospace\">\n                Totales\n              </th>\n              <td>{Number(totCoef * 100).toFixed(2)}</td>\n              <td />\n              <td className=\"text-right table-active\">\n                {currency(subtExpenseA)}\n              </td>\n              <td className=\"text-right table-active\">{currency(subtDebtA)}</td>\n              <td className=\"text-right table-active\">{currency(subtIntA)}</td>\n              <td className=\"text-right table-secondary\">\n                {currency(subtExpenseB)}\n              </td>\n              <td className=\"text-right table-secondary\">\n                {currency(subtDebtB)}\n              </td>\n              <td className=\"text-right table-secondary\">\n                {currency(subtIntB)}\n              </td>\n              <td className=\"text-right\">{currency(total)}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default ExpensesDetails;\n","import React from 'react';\n\nconst ExpensesBanner = ({ consortia, period }) => {\n  const { name, mail, address } = consortia;\n  return (\n    <React.Fragment>\n      <div className=\"container mb-5\">\n        <div className=\"row\">\n          <div className=\"col text-center\">\n            <p className=\"lead h4\">Consorcio {name}</p>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col text-center table-10\">{address}</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col text-center table-10 p-1\">{mail}</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col text-center mt-2\">\n            <strong>{`Liquidación de expensas ${period}`}</strong>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default ExpensesBanner;\n","import React from 'react';\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Alert\n} from 'reactstrap';\n\nconst closeBtn = <i className=\"fa fa-times-circle\" />;\n\nconst SimpleModal = ({\n  isOpen,\n  toggle,\n  className,\n  title,\n  label,\n  action,\n  body\n}) => {\n  return (\n    <Modal isOpen={isOpen} toggle={toggle} className={className}>\n      <ModalHeader toggle={toggle} close={closeBtn} className=\"display-5\">\n        <div className=\"display-5\">{title}</div>\n      </ModalHeader>\n      <ModalBody>\n        <React.Fragment>\n          <strong>Atención</strong>\n          <i className=\"fa fa-surprise\" />\n          {body}\n          <Alert color=\"danger\">\n            <p>\n              <i className=\"fa fa-exclamation-circle mr-1\" />\n              Esta acción no se puede desahacer.\n            </p>\n          </Alert>\n        </React.Fragment>\n      </ModalBody>\n      <ModalFooter>\n        <Button\n          color={label === 'Guardar' ? 'primary' : 'danger'}\n          onClick={action}\n        >\n          {label}\n        </Button>{' '}\n        <Button color=\"secondary\" onClick={toggle}>\n          Cancelar\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nexport default SimpleModal;\n","import http from './httpService';\n\nconst apiEndpoint = '/pdetails';\n\nfunction url(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getPDetails() {\n  return http.get(apiEndpoint);\n}\n\nexport function getPDetailsByuserId(userId) {\n  return http.get(`${apiEndpoint}/user/${userId}`);\n}\n\nexport function getPDetailsByPeriod(period) {\n  return http.get(`${apiEndpoint}/${period}`);\n}\n\nexport function getPDetail(id) {\n  return http.get(url(id));\n}\n\nexport function deletePDetails(id) {\n  return http.delete(url(id));\n}\n\nexport function savePDetails(details) {\n  if (details._id) {\n    const body = { ...details };\n    delete body._id;\n    return http.put(url(details._id), body);\n  }\n  return http.post(apiEndpoint, details);\n}\n","import http from './httpService';\n\nconst apiEndpoint = '/consortia';\n\nfunction url(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getConsortia() {\n  return http.get(apiEndpoint);\n}\n\nexport function saveConsortia(consortia) {\n  if (consortia._id) {\n    const body = { ...consortia };\n    delete body._id;\n    return http.put(url(consortia._id), body);\n  }\n  return http.post(apiEndpoint, consortia);\n}\n","import React from 'react';\nimport Joi from 'joi-browser';\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nimport ExpensesStats from './ExpensesStats';\nimport ExpensesDetails from './ExpensesDetails';\nimport ExpensesBanner from './ExpensesBanner';\nimport Form from './common/Form';\nimport SimpleModal from './common/SimpleModal';\nimport { getPeriod, savePeriod, initPeriod } from '../services/periodsService';\nimport { getExpensesByPeriod } from '../services/expensesService';\nimport { getPDetailsByPeriod } from '../services/pdetailsService';\nimport { getConsortia } from '../services/consortiaService';\n\nimport auth from '../services/authService';\n\nclass PeriodsForm extends Form {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        period: '',\n        userId: '',\n        expenseA: 0,\n        expenseB: 0,\n        incomeA: 0,\n        incomeB: 0,\n        isClosed: false\n      },\n      sortColumn: { path: 'model', order: 'asc' },\n      errors: {}\n    };\n    this.togglePeriod = this.togglePeriod.bind(this);\n  }\n\n  toPDF = async id => {\n    const input = document.getElementById('pdf1');\n    const canvas = await html2canvas(input);\n    const imgData = canvas.toDataURL('image/png');\n    const pdf = new jsPDF('portrait', 'mm', 'a4');\n    pdf.addImage(imgData, 'PNG', 0, 0, 210, 297);\n    pdf.addPage();\n\n    const input2 = document.getElementById('pdf2');\n    const canvas2 = await html2canvas(input2);\n    const imgData2 = canvas2.toDataURL('image/png');\n\n    pdf.addImage(imgData2, 'PNG', 0, 0, 210, 297);\n    pdf.save(`Expensas_JI1840_${this.state.period}.pdf`);\n  };\n\n  async componentDidMount() {\n    const { id, period: newPeriod } = this.props.match.params;\n\n    if (newPeriod) {\n      await this.newPeriod(newPeriod);\n    } else {\n      await this.populatePeriod(id);\n    }\n\n    const { period } = this.state.data;\n\n    const details = await this.populateDetails(period);\n    const expenses = await this.populateExpenses(period);\n    const consortia = await this.populateConsortia();\n\n    this.setState({ details, expenses, consortia });\n  }\n\n  async populateConsortia() {\n    const { data: consortia } = await getConsortia();\n    return consortia;\n  }\n\n  async populateExpenses(period) {\n    const { data: expenses } = await getExpensesByPeriod(period);\n    return expenses;\n  }\n  async populateDetails(period) {\n    const { data: details } = await getPDetailsByPeriod(period);\n    return details;\n  }\n\n  async populatePeriod(id) {\n    const { data: period } = await getPeriod(id);\n    this.setState({ data: this.mapToViewModel(period) });\n    // return this.props.history.replace('/not-found');\n  }\n\n  async newPeriod(period) {\n    const body = {\n      period: period,\n      userId: auth.getCurrentUser()._id,\n      expensesA: 0,\n      expensesB: 0,\n      incomeA: 0,\n      incomeB: 0,\n      isClosed: false\n    };\n\n    const { data: newPeriod } = await initPeriod(body);\n    this.setState({ data: this.mapToViewModel(newPeriod) });\n  }\n\n  mapToViewModel(p) {\n    return ({\n      _id: p._id,\n      period: p.period,\n      userId: p.userId,\n      expensesA: p.expensesA,\n      expensesB: p.expensesB,\n      incomeA: p.incomeA,\n      incomeB: p.incomeB,\n      isClosed: p.isClosed\n    } = p);\n  }\n\n  togglePeriod() {\n    this.setState(prevState => ({ modal: !prevState.modal }));\n  }\n\n  handleSort = sortColumn => {\n    this.setState({ sortColumn });\n  };\n\n  schema = {\n    _id: Joi.string(),\n    period: Joi.string()\n      .required()\n      .label('Periodo'),\n    userId: Joi.string()\n      .required()\n      .label('Usuario'),\n    expensesA: Joi.number()\n      .required()\n      .label('Total Expensas A'),\n    expensesB: Joi.number()\n      .required()\n      .label('Total Expensas B'),\n    incomeA: Joi.number()\n      .required()\n      .label('Total Income'),\n    incomeB: Joi.number()\n      .required()\n      .label('Total Income'),\n    isClosed: Joi.boolean().label('Cerrado')\n  };\n\n  doSubmit = () => {\n    this.togglePeriod();\n  };\n\n  handleSavePeriod = async () => {\n    const period = { ...this.state.data };\n\n    // period.isClosed = true;\n    await savePeriod(period);\n\n    this.togglePeriod();\n    const { history } = this.props;\n    history.push('/periods');\n  };\n\n  ModalPeriodBody = data => {\n    const { _id, period } = data;\n    const bodyPeriod = (\n      <p className=\"lead\">\n        Se cerrará el periodo <mark>{period}</mark>. Los usuarios que no hayan\n        registrado pagos en el período se registrarán como deudores.\n      </p>\n    );\n\n    const bodyNewPeriod = (\n      <p className=\"lead\">\n        Se iniciará el periodo <mark>{period}</mark>.\n      </p>\n    );\n\n    return _id ? bodyPeriod : bodyNewPeriod;\n  };\n\n  render() {\n    const { details, expenses, consortia, modal, data } = this.state;\n    const { _id, period } = data;\n    const saveButtonLabel = !_id ? 'Iniciar Período' : 'Cerrar Período';\n\n    if (!details || !expenses) return 'No hay información disponible';\n\n    console.log('consortia', consortia[0]);\n    return (\n      <React.Fragment>\n        <div className=\"row\">\n          <div className=\"col\">\n            <SimpleModal\n              isOpen={modal}\n              toggle={this.togglePeriod}\n              title={saveButtonLabel}\n              label={saveButtonLabel}\n              action={this.handleSavePeriod}\n              body={this.ModalPeriodBody(data)}\n            />\n            <div id=\"pdf1\" className=\"page\">\n              <ExpensesBanner consortia={consortia[0]} period={period} />\n              <ExpensesStats expenses={expenses} period={period} />\n            </div>\n            <div id=\"pdf2\" className=\"page\">\n              <ExpensesBanner consortia={consortia[0]} period={period} />\n              <ExpensesDetails details={details} period={period} />\n            </div>\n          </div>\n          <div className=\"col\">\n            <i\n              className=\"fa fa-download blue clickable\"\n              onClick={event => this.toPDF('pdf')}\n            >\n              descargar\n            </i>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default PeriodsForm;\n","import React, { Fragment } from 'react';\nimport Select from './Select';\nimport { getLastXYears, monthLabels } from '../../utils/dates';\n\nconst PeriodSelector = ({ months, years, handlePeriod }) => {\n  return (\n    <Fragment>\n      <Select\n        name=\"month\"\n        value={months}\n        options={monthLabels}\n        onChange={handlePeriod}\n        className=\"reset-margin-bottom\"\n      />\n      <Select\n        name=\"year\"\n        value={years}\n        options={getLastXYears(5)}\n        onChange={handlePeriod}\n        className=\"reset-margin-bottom\"\n      />\n    </Fragment>\n  );\n};\n\nexport default PeriodSelector;\n","import React, { Component, Fragment } from 'react';\nimport _ from 'lodash';\nimport SearchBox from './common/SearchBox';\nimport CarbonTableTitle from './common/CarbonTableTitle';\nimport CarbonTablePagination from './common/CarbonTablePagination';\nimport CarbonModal from './common/CarbonModal';\nimport Unauthorized from './common/Unauthorized';\nimport PeriodSelector from './common/PeriodSelector';\nimport ExpensesTable from './ExpensesTable';\nimport auth from '../services/authService';\nimport { getExpenses, deleteExpense } from '../services/expensesService';\nimport { getCurrentPeriod } from '../utils/dates';\nimport { paginate } from '../utils/paginate';\nimport { currency } from '../utils/formatter';\n\nclass Expenses extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expenses: {},\n      pageSize: 10,\n      currentPage: 1,\n      searchQuery: '',\n      selectedPeriod: null,\n      sortColumn: { path: 'type', order: 'asc' },\n      year: getCurrentPeriod().year,\n      month: getCurrentPeriod().month,\n      modal: false,\n      currentUser: auth.getCurrentUser()\n    };\n    this.toggleDelete = this.toggleDelete.bind(this);\n  }\n\n  async componentDidMount() {\n    const { data: expenses } = await getExpenses();\n    this.setState({ expenses });\n  }\n\n  handleDelete = () => {\n    const { selectedExpense } = this.state;\n    const rollback = this.state.expenses;\n\n    const expenses = this.state.expenses.filter(\n      u => u._id !== selectedExpense._id\n    );\n    this.setState({ expenses });\n\n    try {\n      deleteExpense(selectedExpense._id);\n    } catch (ex) {\n      this.setState({ expenses: rollback });\n    }\n\n    this.toggleDelete();\n  };\n\n  handlePeriodSelect = event => {\n    let { year, month } = this.state;\n\n    if (event.target.name === 'year') year = event.target.value;\n    if (event.target.name === 'month') month = event.target.value;\n\n    const selectedPeriod = year && month ? `${month} ${year}` : '';\n\n    this.setState({\n      selectedPeriod,\n      searchQuery: '',\n      currentPage: 1,\n      year,\n      month\n    });\n  };\n\n  handleSort = sortColumn => {\n    this.setState({ sortColumn });\n  };\n\n  handleAddExpense = () => {\n    const { history } = this.props;\n    history.push('/expenses/new');\n  };\n\n  handlePageSize = event => {\n    this.setState({ pageSize: event.target.value });\n  };\n\n  handlePageChange = (page, arrow, pagesCount) => {\n    const { value } = page.target;\n    let { currentPage } = this.state;\n\n    currentPage = value ? Number(value) : (currentPage += arrow);\n    if (currentPage < 1) currentPage = 1;\n    if (currentPage > pagesCount) currentPage = pagesCount;\n\n    this.setState({ currentPage });\n  };\n\n  handleSearch = query => {\n    this.setState({ searchQuery: query, selectedPeriod: null, currentPage: 1 });\n  };\n\n  getPageData = () => {\n    const {\n      expenses: allExpenses,\n      pageSize,\n      currentPage,\n      sortColumn,\n      selectedPeriod,\n      searchQuery\n    } = this.state;\n\n    let filtered = allExpenses;\n\n    if (searchQuery)\n      filtered = allExpenses.filter(u =>\n        u.concept.toLowerCase().startsWith(searchQuery.toLowerCase())\n      );\n    else if (selectedPeriod)\n      filtered = allExpenses.filter(m => m.period === selectedPeriod);\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n    const expenses = paginate(sorted, currentPage, pageSize);\n\n    return {\n      totalCount: filtered.length || 0,\n      data: expenses\n    };\n  };\n\n  toggleDelete(expense) {\n    this.setState(prevState => ({\n      modal: !prevState.modal,\n      selectedExpense: expense\n    }));\n  }\n  renderViewTags = (data, selected) => {\n    const count = data.length;\n    return (\n      <p>\n        {`Gastos: `}\n        <span className=\"bx--tag bx--tag--teal\">{count}</span>\n        {` Importe Total: `}\n        <span className=\"bx--tag bx--tag--magenta\">\n          {currency(\n            data.reduce((prev, current) => (prev += current.ammount), 0)\n          )}\n        </span>\n        {` Filtro: `}\n        <span className=\"bx--tag bx--tag--blue\">\n          {selected ? selected : 'Todos los períodos. '}\n        </span>\n      </p>\n    );\n  };\n\n  modalBody = expense => {\n    const { concept } = expense;\n    return (\n      <p className=\"lead\">\n        Se eliminará el gasto con concepto: <mark>{concept}</mark>.\n      </p>\n    );\n  };\n\n  modalProps = selectedExpense => ({\n    isOpen: this.state.modal,\n    title: 'Eliminar gastos',\n    label: 'Consortia - Jose Ingenieros 1840',\n    body: selectedExpense && this.modalBody(selectedExpense),\n    cancelBtnLabel: 'Cancelar',\n    submitBtnLabel: 'Eliminar',\n    toggle: this.toggleDelete,\n    submit: this.handleDelete,\n    danger: true\n  });\n\n  render() {\n    const { user } = this.state;\n    if (user && !user.isAdmin)\n      return (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          Acceso no autorizado.\n        </div>\n      );\n\n    const {\n      pageSize,\n      currentPage,\n      sortColumn,\n      searchQuery,\n      selectedPeriod\n    } = this.state;\n    const { month, year } = this.state;\n    const { totalCount, data: expenses } = this.getPageData();\n    const { selectedExpense, currentUser } = this.state;\n\n    if (currentUser && !currentUser.isCouncil) return <Unauthorized />;\n    return (\n      <Fragment>\n        <CarbonModal {...this.modalProps(selectedExpense)} />\n        <CarbonTableTitle\n          title=\"Gastos\"\n          helper={this.renderViewTags(expenses, selectedPeriod)}\n          btnLabel=\"Registrar gasto\"\n          btnClick={this.handleAddExpense}\n          currentUser={currentUser}\n        />\n        <div className=\"cc--expenses-grid\">\n          <PeriodSelector\n            months={month}\n            years={year}\n            handlePeriod={this.handlePeriodSelect}\n          />\n\n          <SearchBox value={searchQuery} onChange={this.handleSearch} />\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--col\">\n            <ExpensesTable\n              expenses={expenses}\n              onDelete={this.toggleDelete}\n              onSort={this.handleSort}\n              sortColumn={sortColumn}\n            />\n            <CarbonTablePagination\n              itemsCount={totalCount}\n              pageSize={pageSize}\n              currentPage={currentPage}\n              onPageSize={this.handlePageSize}\n              onPageChange={this.handlePageChange}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Expenses;\n","import React from 'react';\n\nconst BtnAux = ({ label, onClick, className }) => {\n  return (\n    <button\n      className={`bx--btn bx--btn--sm bx--btn--secondary ${className}`}\n      onClick={onClick}\n      type=\"button\"\n    >\n      {` ${label}`}\n      <svg\n        focusable=\"false\"\n        preserveAspectRatio=\"xMidYMid meet\"\n        style={{ willChange: 'transform' }}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className=\"bx--btn__icon\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 32 32\"\n        aria-hidden=\"true\"\n      >\n        <path d=\"M17 15V7h-2v8H7v2h8v8h2v-8h8v-2h-8z\" />\n      </svg>\n    </button>\n  );\n};\n\nexport default BtnAux;\n","import http from './httpService';\n\nconst apiEndpoint = '/pmodels';\n\nfunction supUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getModels() {\n  return http.get(apiEndpoint);\n}\n\nexport function getModel(supId) {\n  return http.get(supUrl(supId));\n}\n\nexport function deleteModel(supId) {\n  return http.delete(supUrl(supId));\n}\n\nexport function saveModel(sup) {\n  if (sup._id) {\n    const body = { ...sup };\n    delete body._id;\n    return http.put(supUrl(sup._id), body);\n  }\n  return http.post(apiEndpoint, sup);\n}\n","import React, { Fragment } from 'react';\nimport Joi from 'joi-browser';\nimport { toast } from 'react-toastify';\nimport Form from './common/Form';\nimport BtnAux from './common/BtnAux';\nimport { getExpense, saveExpense } from '../services/expensesService';\nimport { getModels } from '../services/pmodelsServices';\nimport { getLastXMonths, getPeriod } from '../utils/dates';\nimport auth from '../services/authService';\n\nclass ExpensesForm extends Form {\n  state = {\n    data: {\n      category: '',\n      concept: '',\n      type: '',\n      ammount: 0,\n      period: getPeriod(new Date()),\n      excluded: [],\n      selectedEx: ''\n    },\n    models: [],\n    errors: {},\n    keys: {}\n  };\n\n  typeOptions = ['A', 'B'];\n\n  categoryOptions = [\n    'Mantenimiento',\n    'Servicios',\n    'Impuestos',\n    'Honorarios',\n    'Abonos',\n    'Generales'\n  ];\n\n  schema = {\n    _id: Joi.string(),\n    category: Joi.string().label('Rubro'),\n    concept: Joi.string()\n      .required()\n      .label('Concepto'),\n    type: Joi.string()\n      .valid('A', 'B')\n      .required()\n      .label('Tipo'),\n    ammount: Joi.number()\n      .required()\n      .label('Importe'),\n    excluded: Joi.array(),\n    selectedEx: Joi.string().allow(''),\n    period: Joi.string()\n      .required()\n      .label('Mes')\n  };\n\n  async populateExpenses() {\n    try {\n      const expenseId = this.props.match.params.id;\n      if (expenseId === 'new') {\n        // const data = { period: ) };\n        // this.setState({ data });\n        return;\n      }\n      const { data: expense } = await getExpense(expenseId);\n      const currentUser = auth.getCurrentUser();\n      this.setState({ data: this.mapToViewModel(expense), currentUser });\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        return this.props.history.replace('/not-found');\n    }\n  }\n\n  async populateModels() {\n    const { data: models } = await getModels();\n    this.setState({ models });\n  }\n  async componentDidMount() {\n    await this.populateExpenses();\n    await this.populateModels();\n  }\n\n  mapToViewModel(expense) {\n    return {\n      _id: expense._id,\n      category: expense.category,\n      concept: expense.concept,\n      type: expense.type,\n      ammount: expense.ammount,\n      excluded: expense.excluded,\n      period: expense.period,\n      selectedEx: 'DUMMY-EX'\n    };\n  }\n\n  doSubmit = async () => {\n    const expense = { ...this.state.data };\n    const { _id } = auth.getCurrentUser();\n    try {\n      expense.userId = _id;\n      delete expense.selectedEx;\n      await saveExpense(expense);\n      toast.success(`Los datos se guardaron exitosamente. ✔️`, {\n        position: 'top-center'\n      });\n    } catch (ex) {\n      console.log(ex.response.data);\n    }\n\n    const { history } = this.props;\n    history.push('/expenses');\n  };\n\n  addAll = () => {\n    const { models } = this.state;\n    const allExcluded = [];\n    for (let m of models) allExcluded.push(m._id);\n\n    const newData = { ...this.state.data };\n    newData.excluded = allExcluded;\n\n    this.setState({ data: newData });\n  };\n\n  addExcluded(selected) {\n    if (!selected) return null;\n    const { excluded: newExcluded } = this.state.data;\n    const newState = { ...this.state };\n\n    //si ya existe no se vuelve a agregar\n    const newEx = newExcluded.find(e => e === selected);\n    if (newEx) return;\n\n    newExcluded.push(selected);\n    newState.data.excluded = newExcluded;\n    this.setState({ ...newState });\n  }\n\n  getLabel(id) {\n    const { models } = this.state;\n    if (models.length === 0) return;\n    return models.find(m => m._id === id).label;\n  }\n\n  delEx = event => {\n    const { excluded } = this.state.data;\n    const newState = { ...this.state };\n\n    const newExcluded = excluded.filter(e => e !== event.target.id);\n    newState.data.excluded = newExcluded;\n    this.setState({ ...newState });\n  };\n\n  renderExcluded(excluded) {\n    if (excluded.length === 0) return;\n    return excluded.map((v, i) => (\n      <span key={v} className=\"bx--tag bx--tag--cool-gray cc--m5\">\n        <i\n          key={v}\n          id={v}\n          className=\"fa fa-minus-circle clickable\"\n          onClick={event => this.delEx(event)}\n        />{' '}\n        {this.getLabel(v)}\n      </span>\n    ));\n  }\n\n  render() {\n    const { models } = this.state;\n    const { excluded } = this.state.data;\n    const { selectedExKey } = this.state.keys;\n\n    return (\n      <div className=\"bx--grid cc--users-form\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">\n              {this.renderInput('concept', 'Concepto')}\n            </div>\n          </div>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">\n              {this.renderInput('ammount', 'Importe')}\n            </div>\n\n            <div className=\"bx--col\">\n              {this.renderSelect('type', 'Tipo', '', this.typeOptions)}\n            </div>\n          </div>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">\n              {this.renderSelect('category', 'Rubro', '', this.categoryOptions)}\n            </div>\n            <div className=\"bx--col\">\n              {this.renderSelect('period', 'Período', '', getLastXMonths(12))}\n            </div>\n          </div>\n          <div className=\"bx--row align-items-start\">\n            <div className=\"bx--col\">\n              {this.renderSelect('selectedEx', 'Excepciones:', 'label', models)}\n            </div>\n            <div className=\"bx--col\">\n              <BtnAux\n                label=\"Agregar\"\n                onClick={event => this.addExcluded(selectedExKey)}\n                className=\"cc--mt25\"\n              />\n\n              <label className=\"bx--label cc--ml5 cc--mr5\">{' Todos'}</label>\n              <svg\n                onClick={event => this.addAll()}\n                width=\"10\"\n                height=\"10\"\n                fillRule=\"evenodd\"\n              >\n                <path d=\"M6 4h4v2H6v4H4V6H0V4h4V0h2v4z\" />\n              </svg>\n            </div>\n          </div>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">{this.renderButton('Guardar')}</div>\n            <div className=\"bx--col\">\n              {excluded && excluded.length !== 0 && (\n                <Fragment>\n                  <div className=\"bx--row\">\n                    <div className=\"bx--col\">\n                      <label className=\"bx--label\">\n                        Se excluirá del pago a:\n                      </label>\n                    </div>\n                  </div>\n                  <div className=\"bx--row\">\n                    <div className=\"bx--col\">\n                      {this.renderExcluded(excluded)}\n                    </div>\n                  </div>\n                </Fragment>\n              )}\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default ExpensesForm;\n","import React, { Component } from 'react';\nimport CarbonTable from './common/CarbonTable';\nimport { currency } from '../utils/formatter';\n\nclass PeriodsDTable extends Component {\n  columns = [\n    {\n      path: 'model.label',\n      label: 'UF'\n    },\n    {\n      path: 'model.landlord.lastname',\n      label: 'Propietario',\n      content: d => <div>{`${d.model.landlord.lastname}`}</div>\n    },\n    {\n      path: 'model.coefficient',\n      label: 'Coef.',\n      content: d => (\n        <div>{`${(Number(d.model.coefficient) * 100).toFixed(3)}`}</div>\n      )\n    },\n    {\n      path: 'expenseA',\n      label: 'Exp (A)',\n      content: d => <div className=\"text-right\">{currency(d.expenseA)}</div>\n    },\n    {\n      path: 'debtA',\n      label: 'Deuda (A)',\n      content: d => <div className=\"text-right\">{currency(d.debtA)}</div>\n    },\n    {\n      path: 'intA',\n      label: 'Int (A)',\n      content: d => <div className=\"text-right\">{currency(d.intA)}</div>\n    },\n    {\n      path: 'isPayedA',\n      label: 'Pagó (A)',\n      key: 'reg',\n      content: d => (\n        <div className=\"text-center\">\n          <i\n            className={`clickable fa ${\n              d.isPayedA ? 'fa fa-check-square-o' : 'fa fa-square-o'\n            }`}\n            aria-hidden=\"true\"\n            onClick={event => this.props.onRegister(d, 'isPayedA')}\n          />\n        </div>\n      )\n    },\n    {\n      path: 'expenseB',\n      label: 'Exp. (B)',\n      content: d => <div className=\"text-right\">{currency(d.expenseB)}</div>\n    },\n    {\n      path: 'debtB',\n      label: 'Deuda (B)',\n      content: d => <div className=\"text-right\">{currency(d.debtB)}</div>\n    },\n    {\n      path: 'intB',\n      label: 'Int. (B)',\n      content: d => <div className=\"text-right\">{currency(d.intB)}</div>\n    },\n    {\n      path: 'isPayedB',\n      label: 'Pagó (B)',\n      key: 'reg',\n      content: d => (\n        <div className=\"text-center\">\n          <i\n            className={`clickable fa ${\n              d.isPayedB ? 'fa fa-check-square-o' : 'fa fa-square-o'\n            }`}\n            aria-hidden=\"true\"\n            onClick={event => this.props.onRegister(d, 'isPayedB')}\n          />\n        </div>\n      )\n    },\n    {\n      path: 'total',\n      label: 'Total',\n      content: d => (\n        <div\n          className={`text-right ${\n            (!d.isPayedA && !d.isPayedB) > 0 ? 'table-danger' : 'table-success'\n          }`}\n        >\n          {currency(d.total)}\n        </div>\n      )\n    },\n    {\n      path: 'isPayedFake',\n      label: 'Pago Total',\n      key: 'reg',\n      content: d => (\n        <div className=\"text-center\">\n          <i\n            className={`clickable fa ${\n              d.isPayedA && d.isPayedB\n                ? 'fa fa-check-square-o'\n                : 'fa fa-square-o'\n            }`}\n            aria-hidden=\"true\"\n            onClick={event => this.props.onRegister(d)}\n          />\n        </div>\n      )\n    }\n  ];\n\n  render() {\n    const { data, onSort, sortColumn } = this.props;\n    return (\n      <CarbonTable\n        columns={this.columns}\n        data={data}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default PeriodsDTable;\n","import React, { Component, Fragment } from 'react';\nimport _ from 'lodash';\nimport SearchBox from './common/SearchBox';\nimport CarbonTableTitle from './common/CarbonTableTitle';\nimport CarbonTablePagination from './common/CarbonTablePagination';\nimport CarbonModal from './common/CarbonModal';\nimport PeriodSelector from './common/PeriodSelector';\nimport PeriodsDTable from './PeriodsDTable';\nimport auth from '../services/authService';\nimport Unauthorized from './common/Unauthorized';\nimport { getPDetailsByPeriod, savePDetails } from '../services/pdetailsService';\nimport { getCurrentPeriod, getPeriod } from '../utils/dates';\nimport { paginate } from '../utils/paginate';\nimport { toast } from 'react-toastify';\n\nclass Payments extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pageSize: 15,\n      currentPage: 1,\n      searchQuery: '',\n      selectedPeriod: getPeriod(new Date()),\n      sortColumn: { path: 'model', order: 'asc' },\n      year: getCurrentPeriod().year,\n      month: getCurrentPeriod().month,\n      modal: false,\n      currentUser: auth.getCurrentUser()\n    };\n    this.toggleRegister = this.toggleRegister.bind(this);\n  }\n\n  async componentDidMount() {\n    const { selectedPeriod } = this.state;\n    await this.populateDetails(selectedPeriod);\n  }\n\n  async populateDetails(period) {\n    const { data: details } = await getPDetailsByPeriod(period);\n    this.setState({ details });\n  }\n\n  handlePeriodSelect = async event => {\n    let { year, month } = this.state;\n\n    if (event.target.name === 'year') year = event.target.value;\n    if (event.target.name === 'month') month = event.target.value;\n\n    const selectedPeriod = year && month ? `${month} ${year}` : '';\n\n    await this.populateDetails(selectedPeriod);\n    this.setState({\n      selectedPeriod,\n      searchQuery: '',\n      currentPage: 1,\n      year,\n      month\n    });\n  };\n\n  handlePageSize = event => {\n    this.setState({ pageSize: event.target.value });\n  };\n\n  handlePageChange = (page, arrow, pagesCount) => {\n    const { value } = page.target;\n    let { currentPage } = this.state;\n\n    currentPage = value ? Number(value) : (currentPage += arrow);\n    if (currentPage < 1) currentPage = 1;\n    if (currentPage > pagesCount) currentPage = pagesCount;\n\n    this.setState({ currentPage });\n  };\n\n  handleSearch = query => {\n    this.setState({ searchQuery: query, selectedPeriod: null, currentPage: 1 });\n  };\n\n  getPageData = () => {\n    const {\n      details: allDetails,\n      pageSize,\n      currentPage,\n      sortColumn,\n      selectedPeriod,\n      searchQuery\n    } = this.state;\n\n    let filtered = allDetails;\n\n    filtered.map(detail => {\n      const { expenseA, debtA, intA, expenseB, debtB, intB } = detail;\n      detail.total = expenseA + debtA + intA + expenseB + debtB + intB;\n      return null;\n    });\n\n    if (searchQuery) {\n      filtered = allDetails.filter(u =>\n        u.model.landlord.lastname\n          .toLowerCase()\n          .startsWith(searchQuery.toLowerCase())\n      );\n    } else if (selectedPeriod)\n      filtered = allDetails.filter(m => m.period === selectedPeriod);\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n    const details = paginate(sorted, currentPage, pageSize);\n\n    return {\n      totalCount: filtered.length || 0,\n      data: details\n    };\n  };\n\n  toggleRegister(detail, key) {\n    this.setState(prevState => ({\n      modal: !prevState.modal,\n      selectedDetail: detail,\n      isPayedKey: key\n    }));\n  }\n\n  handleRegister = async () => {\n    const { details: rollback } = this.state;\n    const { selectedDetail, details, isPayedKey } = this.state;\n    try {\n      const detail = this.mapToMongoModel({ ...selectedDetail });\n\n      // Optimistic update  front-end first\n      const item = details.find(d => d._id === selectedDetail._id);\n      if (isPayedKey) {\n        item[isPayedKey] = !item[isPayedKey];\n        detail[isPayedKey] = item[isPayedKey];\n      } else {\n        const payedAB = item.isPayedA && item.isPayedB;\n\n        if (item.isPayedA === payedAB) detail.isPayedA = !payedAB;\n        if (item.isPayedB === payedAB) detail.isPayedB = !payedAB;\n\n        item.isPayedA = !payedAB;\n        item.isPayedB = !payedAB;\n      }\n\n      // DB Update\n      await savePDetails(detail);\n      toast.success(`Los datos se guardaron exitosamente. ✔️`, {\n        position: 'top-center'\n      });\n    } catch (ex) {\n      console.log(ex);\n      this.setState({ details: rollback });\n    }\n    this.toggleRegister();\n  };\n\n  mapToMongoModel(detail) {\n    //DEpopulate model & userId\n    delete detail.total;\n    delete detail.isPayedA;\n    delete detail.isPayedB;\n    detail.userId = detail.userId._id;\n    detail.model = detail.model._id;\n    return detail;\n  }\n\n  handleSortDetails = sortColumn => {\n    this.setState({ sortColumn });\n  };\n\n  modalBody = model => {\n    const { label } = model;\n    const { lastname } = model.landlord;\n    return (\n      <p className=\"lead\">\n        Se registrará el pago de expensas para <mark>{label}</mark> del\n        propietario <mark>{lastname}</mark>. Adicionalmente se actualizará el\n        saldo de ingresos del período.\n      </p>\n    );\n  };\n\n  modalProps = selectedDetail => {\n    if (!selectedDetail) return null;\n    const { modal } = this.state;\n    const { model } = selectedDetail;\n    return {\n      isOpen: modal,\n      title: 'Actualizar información de pagos',\n      label: 'Consortia - Jose Ingenieros 1840',\n      body: model && this.modalBody(model),\n      cancelBtnLabel: 'Cancelar',\n      submitBtnLabel: 'Confirmar',\n      toggle: this.toggleRegister,\n      submit: this.handleRegister\n    };\n  };\n\n  render() {\n    const { currentUser } = this.state;\n\n    if (currentUser && !currentUser.isCouncil) return <Unauthorized />;\n\n    if (!this.state.details) return 'No data available.';\n\n    const { pageSize, currentPage, searchQuery, sortColumn } = this.state;\n    const { month, year } = this.state;\n    const { selectedDetail } = this.state;\n    const { totalCount, data: details } = this.getPageData();\n\n    return (\n      <Fragment>\n        <CarbonModal {...this.modalProps(selectedDetail)} />\n        <CarbonTableTitle\n          title=\"Liquidaciones\"\n          helper=\"Lista de liquidaciones registradas.\"\n          currentUser={currentUser}\n        />\n        <div className=\"cc--expenses-grid\">\n          <PeriodSelector\n            months={month}\n            years={year}\n            handlePeriod={this.handlePeriodSelect}\n          />\n          <SearchBox value={searchQuery} onChange={this.handleSearch} />\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--col\">\n            <PeriodsDTable\n              data={details}\n              onRegister={this.toggleRegister}\n              onSort={this.handleSortDetails}\n              sortColumn={sortColumn}\n            />\n            <CarbonTablePagination\n              itemsCount={totalCount}\n              pageSize={pageSize}\n              currentPage={currentPage}\n              onPageChange={this.handlePageChange}\n              onPageSize={this.handlePageSize}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Payments;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CarbonTable from './common/CarbonTable';\nimport auth from '../services/authService';\n\nclass SuppliersTable extends Component {\n  constructor() {\n    super();\n    this.currentUser = auth.getCurrentUser();\n    if (this.currentUser && this.currentUser.isCouncil)\n      this.columns.push(this.deleteColumn);\n  }\n  columns = [\n    {\n      path: 'name',\n      label: 'Nombre',\n      content: supplier => {\n        return this.currentUser.isCouncil ? (\n          <Link to={`/suppliers/${supplier._id}`}>{supplier.name}</Link>\n        ) : (\n          supplier.name\n        );\n      }\n    },\n    {\n      path: 'category',\n      label: 'Rubro'\n    },\n    {\n      path: 'contact',\n      label: 'Contacto'\n    },\n    {\n      path: 'comments',\n      label: 'Observaciones'\n    }\n  ];\n\n  deleteColumn = {\n    key: 'del',\n    content: supplier => (\n      <i\n        onClick={event => this.props.onDelete(supplier)}\n        className=\"fa fa-trash red clickable\"\n      />\n    )\n  };\n\n  render() {\n    const { suppliers, onSort, sortColumn } = this.props;\n    return (\n      <CarbonTable\n        columns={this.columns}\n        data={suppliers}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default SuppliersTable;\n","import http from './httpService';\n\nconst apiEndpoint = '/suppliers';\n\nfunction supUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getSuppliers() {\n  return http.get(apiEndpoint);\n}\n\nexport function getSupplier(supId) {\n  return http.get(supUrl(supId));\n}\n\nexport function deleteSupplier(supId) {\n  return http.delete(supUrl(supId));\n}\n\nexport function saveSupplier(sup) {\n  if (sup._id) {\n    const body = { ...sup };\n    delete body._id;\n    return http.put(supUrl(sup._id), body);\n  }\n  return http.post(apiEndpoint, sup);\n}\n","import React, { Component, Fragment } from 'react';\nimport _ from 'lodash';\nimport SearchBox from './common/SearchBox';\nimport CarbonTableTitle from './common/CarbonTableTitle';\nimport CarbonTablePagination from './common/CarbonTablePagination';\nimport CarbonModal from './common/CarbonModal';\nimport SuppliersTable from './SuppliersTable';\nimport auth from '../services/authService';\nimport { getSuppliers, deleteSupplier } from '../services/suppliersService';\nimport { paginate } from '../utils/paginate';\nimport { toast } from 'react-toastify';\n\nclass Suppliers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      suppliers: {},\n      pageSize: 10,\n      currentPage: 1,\n      searchQuery: '',\n      sortColumn: { path: 'type', order: 'asc' },\n      modal: false\n    };\n    this.toggleDelete = this.toggleDelete.bind(this);\n  }\n\n  toggleDelete(supplier) {\n    this.setState(prevState => ({\n      modal: !prevState.modal,\n      selectedSupplier: supplier\n    }));\n  }\n\n  async componentDidMount() {\n    const { data: suppliers } = await getSuppliers();\n    this.setState({ suppliers, currentUser: auth.getCurrentUser() });\n  }\n\n  handleDelete = () => {\n    const { selectedSupplier } = this.state;\n    const rollback = this.state.suppliers;\n    const suppliers = this.state.suppliers.filter(\n      u => u._id !== selectedSupplier._id\n    );\n\n    this.setState({ suppliers });\n\n    try {\n      deleteSupplier(selectedSupplier._id);\n    } catch (ex) {\n      toast.error(`☹️ Error: ${ex.response.data}`);\n      this.setState({ expenses: rollback });\n    }\n    this.toggleDelete();\n  };\n\n  handleSort = sortColumn => {\n    this.setState({ sortColumn });\n  };\n\n  handleAddSuppplier = () => {\n    const { history } = this.props;\n    history.push('/suppliers/new');\n  };\n\n  handlePageChange = page => {\n    this.setState({ currentPage: page });\n  };\n\n  handleSearch = query => {\n    this.setState({ searchQuery: query, currentPage: 1 });\n  };\n\n  handlePageSize = event => {\n    this.setState({ pageSize: event.target.value });\n  };\n\n  handlePageChange = (page, arrow, pagesCount) => {\n    const { value } = page.target;\n    let { currentPage } = this.state;\n\n    currentPage = value ? Number(value) : (currentPage += arrow);\n    if (currentPage < 1) currentPage = 1;\n    if (currentPage > pagesCount) currentPage = pagesCount;\n\n    this.setState({ currentPage });\n  };\n\n  getPageData = () => {\n    const {\n      suppliers: allSuppliers,\n      pageSize,\n      currentPage,\n      sortColumn,\n      searchQuery\n    } = this.state;\n\n    let filtered = allSuppliers;\n\n    if (searchQuery) {\n      filtered = allSuppliers.filter(u =>\n        u.name.toLowerCase().startsWith(searchQuery.toLowerCase())\n      );\n    }\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n    const suppliers = paginate(sorted, currentPage, pageSize);\n    return {\n      totalCount: filtered.length || 0,\n      data: suppliers\n    };\n  };\n\n  modalBody = supplier => {\n    const { name } = supplier;\n    return (\n      <p className=\"lead\">\n        Se eliminará el proveedor <mark>{name}</mark>.\n      </p>\n    );\n  };\n\n  modalProps = selectedUser => ({\n    isOpen: this.state.modal,\n    title: 'Eliminar proveedor',\n    label: 'Consortia - Jose Ingenieros 1840',\n    body: selectedUser && this.modalBody(selectedUser),\n    cancelBtnLabel: 'Cancelar',\n    submitBtnLabel: 'Eliminar',\n    toggle: this.toggleDelete,\n    submit: this.handleDelete,\n    danger: true\n  });\n\n  render() {\n    const {\n      pageSize,\n      currentPage,\n      sortColumn,\n      searchQuery,\n      selectedSupplier\n    } = this.state;\n\n    const { currentUser } = this.state;\n    const { totalCount, data: suppliers } = this.getPageData();\n\n    return (\n      <Fragment>\n        <CarbonModal {...this.modalProps(selectedSupplier)} />\n        <div className=\"bx--row\">\n          <div className=\"bx--col\">\n            <CarbonTableTitle\n              title=\"Proveedores\"\n              helper=\"Lista de proveedores registrados.\"\n              btnLabel=\"Registrar proveedor\"\n              btnClick={this.handleAddSuppplier}\n              currentUser={currentUser}\n            />\n            <SearchBox value={searchQuery} onChange={this.handleSearch} />\n            <SuppliersTable\n              suppliers={suppliers}\n              onDelete={this.toggleDelete}\n              onSort={this.handleSort}\n              sortColumn={sortColumn}\n            />\n            <CarbonTablePagination\n              itemsCount={totalCount}\n              pageSize={pageSize}\n              currentPage={currentPage}\n              onPageSize={this.handlePageSize}\n              onPageChange={this.handlePageChange}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Suppliers;\n","import React from 'react';\nimport Joi from 'joi-browser';\nimport { toast } from 'react-toastify';\nimport Form from './common/Form';\nimport { getSupplier, saveSupplier } from '../services/suppliersService';\n\nclass SuppliersForm extends Form {\n  state = {\n    data: {\n      name: '',\n      category: '',\n      contact: '',\n      comments: ''\n    },\n    errors: {}\n  };\n\n  schema = {\n    _id: Joi.string(),\n    name: Joi.string()\n      .required()\n      .label('Nombre'),\n    category: Joi.string()\n      .required()\n      .label('Rubro'),\n    contact: Joi.string()\n      .required()\n      .label('Contacto'),\n    comments: Joi.string()\n      .allow('')\n      .label('Observaciones')\n  };\n\n  async populateSuppliers() {\n    try {\n      const supplierId = this.props.match.params.id;\n      if (supplierId === 'new') return;\n      const { data: supplier } = await getSupplier(supplierId);\n      this.setState({ data: this.mapToViewModel(supplier) });\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        return this.props.history.replace('/not-found');\n    }\n  }\n\n  async componentDidMount() {\n    await this.populateSuppliers();\n  }\n\n  mapToViewModel(supplier) {\n    return {\n      _id: supplier._id,\n      name: supplier.name,\n      category: supplier.category,\n      contact: supplier.contact,\n      comments: supplier.comments\n    };\n  }\n\n  doSubmit = async () => {\n    const supplier = { ...this.state.data };\n\n    try {\n      await saveSupplier(supplier);\n      console.log(supplier);\n      toast.success('Los datos se guardaron exitosamente. ✔️', {\n        position: 'top-center'\n      });\n    } catch (ex) {\n      console.log(ex.response);\n    }\n\n    const { history } = this.props;\n    history.push('/suppliers');\n  };\n\n  render() {\n    return (\n      <div className=\"bx--grid cc--suppliers-form\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">{this.renderInput('name', 'Nombre')}</div>\n            <div className=\"bx--col\">\n              {this.renderInput('category', 'Categoria')}\n            </div>\n            <div className=\"bx--col\">\n              {this.renderInput('contact', 'Contacto')}\n            </div>\n          </div>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">\n              {this.renderTextArea('comments', 'Observaciones')}\n            </div>\n          </div>\n          <div className=\"bx--row\">\n            <div className=\"bx--col\">{this.renderButton('Guardar')}</div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default SuppliersForm;\n","import React from 'react';\nimport Joi from 'joi-browser';\nimport Form from './common/Form';\nimport { toast } from 'react-toastify';\nimport { register } from '../services/usersService';\nimport auth from '../services/authService';\n\nclass RegisterForm extends Form {\n  state = {\n    data: { mail: '', password: '', firstname: '', lastname: '' },\n    errors: {}\n  };\n\n  schema = {\n    lastname: Joi.string()\n      .max(255)\n      .label('Apellido'),\n    firstname: Joi.string()\n      .max(255)\n      .label('Nombre'),\n    mail: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n      .email()\n      .label('Mail'),\n    password: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n      .label('Clave')\n  };\n\n  componentDidMount() {\n    this.setState({ user: auth.getCurrentUser() });\n  }\n\n  doSubmit = async () => {\n    const { data } = this.state;\n    const { lastname } = data;\n\n    try {\n      await register(this.state.data); //const response=\n      toast.success(`😀 El usuario ${lastname} se registró con éxito.`, {\n        position: 'top-center'\n      });\n\n      const { history } = this.props;\n      history.push('/users');\n\n      // auth.loginWithJwt(response.headers['x-auth-token']);\n      // window.location = '/users';\n    } catch (ex) {\n      toast.error(`☹️ Error: ${ex.response.data}`);\n    }\n  };\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"rounded centered registrar\">\n          <div className=\"row\">\n            <h3 className=\"mx-auto\">\n              <i className=\"fa fa-user-plus mr-3 mb-2\" />\n              Registrar Usuario\n            </h3>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"row\">\n              <div className=\"col\">\n                {this.renderInput('lastname', 'Apellido')}\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">\n                {this.renderInput('firstname', 'Nombre')}\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">{this.renderInput('mail', 'Mail')}</div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">\n                {this.renderInput('password', 'Clave', 'password')}\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"mx-auto\">{this.renderButton('Acceder')}</div>\n            </div>\n          </form>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default RegisterForm;\n","import React, { Fragment } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Form from './common/Form';\nimport auth from '../services/authService';\nimport Joi from 'joi-browser';\n\nclass LoginForm extends Form {\n  state = {\n    data: { username: '', password: '' },\n    errors: {}\n  };\n\n  schema = {\n    username: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n      .email()\n      .label('Usuario'),\n    password: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n      .label('Clave')\n  };\n\n  doSubmit = async () => {\n    const { username, password } = this.state.data;\n    await auth.login(username, password);\n    const { state } = this.props.location;\n    window.location = state ? state.from.pathname : '/';\n  };\n\n  render() {\n    if (auth.getCurrentUser()) return <Redirect to=\"/\" />;\n\n    return (\n      <Fragment>\n        <div className=\"rounded centered login\">\n          <form onSubmit={this.handleSubmit}>\n            {this.renderInput('username', 'Usuario')}\n            {this.renderInput('password', 'Clave', 'password')}\n            {this.renderButton('Acceder')}\n          </form>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default LoginForm;\n","import { Component } from 'react';\nimport auth from '../services/authService';\nclass Logout extends Component {\n  componentDidMount() {\n    auth.logout();\n    window.location = '/';\n  }\n  render() {\n    return null;\n  }\n}\n\nexport default Logout;\n","import React from 'react';\n\nconst NotFound = () => {\n  return <h1>Not Found</h1>;\n};\n\nexport default NotFound;\n","import React, { Fragment } from 'react';\nimport { toast } from 'react-toastify';\nimport Joi from 'joi-browser';\nimport _ from 'lodash';\nimport CarbonModal from './common/CarbonModal';\nimport CarbonTable from './common/CarbonTable';\nimport BtnAux from './common/BtnAux';\nimport Form from './common/Form';\nimport { getModel, saveModel } from '../services/pmodelsServices';\nimport { getUnits } from '../services/unitsService';\nimport { getUsers } from '../services/usersService';\nimport auth from '../services/authService';\n\nclass ModelsForm extends Form {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        label: '',\n        fUnits: [],\n        coefficient: 0,\n        landlord: '',\n        selectedUnit: ''\n      },\n      sortUnits: { path: 'fUnit', order: 'asc' },\n      units: [],\n      users: [],\n      errors: {},\n      keys: {},\n      modal: false\n    };\n\n    const currentUser = auth.getCurrentUser();\n    if (currentUser && currentUser.isAdmin)\n      this.columnsUnits.push(this.deleteColumn);\n\n    this.toggleDelete = this.toggleDelete.bind(this);\n  }\n\n  schema = {\n    _id: Joi.string(),\n    label: Joi.string()\n      .required()\n      .label('Nombre'),\n    landlord: Joi.string().label('Propietario'),\n    selectedUnit: Joi.string()\n      .required()\n      .label('Unidad seleccionada'),\n    fUnits: Joi.array()\n      .required()\n      .label('Unidades'),\n    coefficient: Joi.number()\n      .required()\n      .label('Coeficiente')\n  };\n\n  async populateUnits() {\n    const { data: units } = await getUnits();\n    this.setState({ units });\n  }\n  async populateUsers() {\n    const { data: users } = await getUsers();\n    this.setState({ users });\n  }\n\n  async populateModels() {\n    const modelId = this.props.match.params.id;\n    if (modelId === 'new') return;\n    const { data: model } = await getModel(modelId);\n\n    const keys = {\n      landlordKey: model.landlord._id\n    };\n\n    this.setState({ data: this.mapToViewModel(model), keys });\n  }\n\n  async componentDidMount() {\n    await this.populateModels();\n    await this.populateUnits();\n    await this.populateUsers();\n  }\n\n  mapToViewModel(model) {\n    return {\n      _id: model._id,\n      landlord: model.landlord._id,\n      label: model.label,\n      fUnits: model.fUnits,\n      coefficient: model.coefficient,\n      selectedUnit: 'DUMMY-UNIT'\n    };\n  }\n\n  doSubmit = async () => {\n    const model = { ...this.state.data };\n    const { users } = this.state;\n    const { landlordKey } = this.state.keys;\n\n    //selectedUnit no existe en mongo\n    delete model.selectedUnit;\n    model.landlord = users.find(e => {\n      return e._id === landlordKey;\n    })._id;\n\n    try {\n      await saveModel(model);\n      toast.success(`Los datos se guardaron exitosamente. ✔️`, {\n        position: 'top-center'\n      });\n    } catch (ex) {\n      console.log(ex.response);\n    }\n\n    const { history } = this.props;\n    history.push('/models');\n  };\n\n  handleUnitSort = sortUnits => {\n    this.setState({ sortUnits });\n  };\n\n  getCoefSum = units => {\n    console.log('coef');\n    return units.reduce((a, c) => a + c.coefficient, 0);\n  };\n\n  handleAddModel = () => {\n    const { selectedUnitKey } = this.state.keys;\n    const { units, data } = this.state;\n\n    //\n    const duplicate = data.fUnits.find(e => {\n      return e._id === selectedUnitKey;\n    });\n    if (duplicate) return toast.info('La unidad ya se encuentra asignada.');\n\n    const selectedUnit = units.find(e => {\n      return e._id === selectedUnitKey;\n    });\n\n    const bufferUnits = data.fUnits;\n    bufferUnits.push(selectedUnit);\n    data.coefficient = this.getCoefSum(bufferUnits);\n\n    this.setState({ fUnits: bufferUnits, data });\n  };\n\n  columnsUnits = [\n    { path: 'fUnit', label: 'Unidad' },\n    { path: 'floor', label: 'Piso' },\n    { path: 'flat', label: 'Rótulo' },\n    {\n      path: 'sup.total',\n      label: 'Superficie',\n      content: u => (\n        <p>\n          {Number(u.sup.total).toFixed(2)}m<sup>2</sup>\n        </p>\n      )\n    },\n    {\n      path: 'coefficient',\n      label: 'Coeficiente'\n    }\n  ];\n\n  deleteColumn = {\n    key: 'del',\n    content: model => (\n      <i\n        onClick={event => this.toggleDelete(model)}\n        className=\"fa fa-trash red clickable\"\n      />\n    )\n  };\n\n  toggleDelete(unit) {\n    this.setState(prevState => ({\n      modal: !prevState.modal,\n      selectedUnit: unit\n    }));\n  }\n\n  handleDelete = () => {\n    const { selectedUnit, data: model } = this.state;\n    const { landlordKey } = this.state.keys;\n\n    model.fUnits = model.fUnits.filter(u => u._id !== selectedUnit._id);\n    model.landlord = landlordKey;\n    model.coefficient = this.getCoefSum(model.fUnits);\n    this.setState({ model });\n\n    // try {\n    //   this.doSubmit();\n    //   toast.success(`😀 Los datos se actualizaron con éxito.`, {\n    //     position: 'top-center'\n    //   });\n    // } catch (ex) {\n    //   toast.error(`☹️ Error: ${ex.response.data}`);\n    //   this.setState({ models: rollback });\n    // }\n    this.toggleDelete();\n  };\n\n  renderProps(data, sortColumn) {\n    return (\n      <CarbonTable\n        columns={this.columnsUnits}\n        onDelete={this.toggleDelete}\n        data={data}\n        sortColumn={sortColumn}\n        onSort={this.handleUnitSort}\n      />\n    );\n  }\n\n  getSortedData = (data, sortColumn) => {\n    const sorted = _.orderBy(data, [sortColumn.path], [sortColumn.order]);\n    return sorted;\n  };\n\n  modalBody = unit => {\n    const { fUnit } = unit;\n    return (\n      <p className=\"lead\">\n        Se desaginará la unidad <mark>{fUnit}</mark> al usuario.\n      </p>\n    );\n  };\n\n  modalProps = selectedUnit => ({\n    isOpen: this.state.modal,\n    title: 'Elilminar asignación',\n    label: 'Consortia - Jose Ingenieros 1840',\n    body: selectedUnit && this.modalBody(selectedUnit),\n    cancelBtnLabel: 'Cancelar',\n    submitBtnLabel: 'Confirmar',\n    toggle: this.toggleDelete,\n    submit: this.handleDelete,\n    danger: true\n  });\n\n  render() {\n    const { sortUnits, data, users, units, selectedUnit } = this.state;\n    // const { landlordKey } = this.state.keys;\n    const sortedUnits = this.getSortedData(data.fUnits, sortUnits);\n\n    return (\n      <Fragment>\n        <CarbonModal {...this.modalProps(selectedUnit)} />\n        <div className=\"bx--grid cc--users-form\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"bx--row\">\n              <div className=\"bx--col\">\n                {this.renderInput('label', 'Nombre')}\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--col\">\n                {this.renderSelect(\n                  'landlord',\n                  'Propietario',\n                  '_id',\n                  users,\n                  true\n                )}\n              </div>\n              <div className=\"bx--col\">\n                {this.renderSelect('selectedUnit', 'Unidades', 'fUnit', units)}\n                <BtnAux\n                  label=\"Asignar\"\n                  onClick={event => this.handleAddModel(event)}\n                />\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--col\">\n                <mark>{` Coeficiente total: ${Number(data.coefficient).toFixed(\n                  2\n                )}`}</mark>\n                {this.renderProps(sortedUnits, sortUnits)}\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--col\">{this.renderButton('Guardar')}</div>\n            </div>\n          </form>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default ModelsForm;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CarbonTable from './common/CarbonTable';\nimport auth from '../services/authService';\n\nclass ModelsTable extends Component {\n  constructor() {\n    super();\n    const currentUser = auth.getCurrentUser();\n    if (currentUser && currentUser.isAdmin)\n      this.columns.push(this.deleteColumn);\n  }\n\n  columns = [\n    {\n      path: 'label',\n      label: 'Nombre',\n      content: m => (\n        <div className=\"text-center\">\n          <Link to={`/models/${m._id}`}>{m.label}</Link>\n        </div>\n      )\n    },\n    {\n      path: 'fUnit',\n      label: 'Unidades',\n      content: m => (\n        <div className=\"text-center\">\n          <span className=\"bx--tag bx--tag--cyan\">\n            {m.fUnits.length === 1\n              ? m.fUnits[0].fUnit\n              : m.fUnits\n                  .reduce((prev, current) => `${(prev += current.fUnit)},`, '')\n                  .slice(0, -1)}\n          </span>\n        </div>\n      )\n    },\n    {\n      path: 'landlord',\n      label: 'Propietario',\n      content: m => (\n        <div className=\"text-center\">\n          <Link to={`/users/${m.landlord._id}`}>{m.landlord.lastname}</Link>\n        </div>\n      )\n    },\n    {\n      path: 'coefficient',\n      label: 'Coeficiente',\n      content: m => (\n        <div className=\"text-center\">\n          {Number(m.coefficient * 100).toFixed(3)}\n        </div>\n      )\n    }\n  ];\n\n  deleteColumn = {\n    key: 'del',\n    content: model => (\n      <i\n        onClick={event => this.props.onDelete(model)}\n        className=\"fa fa-trash red\"\n      />\n    )\n  };\n\n  render() {\n    const { models, onSort, sortColumn } = this.props;\n\n    return (\n      <CarbonTable\n        columns={this.columns}\n        data={models}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default ModelsTable;\n","import React, { Component, Fragment } from 'react';\nimport _ from 'lodash';\nimport SearchBox from './common/SearchBox';\nimport CarbonTableTitle from './common/CarbonTableTitle';\nimport CarbonTablePagination from './common/CarbonTablePagination';\nimport CarbonModal from './common/CarbonModal';\nimport ModelsTable from './ModelsTable';\nimport auth from '../services/authService';\nimport { getModels, deleteModel } from '../services/pmodelsServices';\nimport { paginate } from '../utils/paginate';\nimport Unauthorized from './common/Unauthorized';\n\nclass Models extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      models: {},\n      pageSize: 15,\n      currentPage: 1,\n      searchQuery: '',\n      sortColumn: { path: 'type', order: 'asc' },\n      modal: false\n    };\n\n    this.toggleDelete = this.toggleDelete.bind(this);\n  }\n\n  async componentDidMount() {\n    const { data: models } = await getModels();\n    this.setState({ models, currentUser: auth.getCurrentUser() });\n  }\n\n  handleSort = sortColumn => {\n    this.setState({ sortColumn });\n  };\n\n  handleAddModel = () => {\n    const { history } = this.props;\n    history.push('/models/new');\n  };\n\n  handlePageSize = event => {\n    this.setState({ pageSize: event.target.value });\n  };\n\n  handlePageChange = (page, arrow, pagesCount) => {\n    const { value } = page.target;\n    let { currentPage } = this.state;\n\n    currentPage = value ? Number(value) : (currentPage += arrow);\n    if (currentPage < 1) currentPage = 1;\n    if (currentPage > pagesCount) currentPage = pagesCount;\n\n    this.setState({ currentPage });\n  };\n  handleSearch = query => {\n    this.setState({ searchQuery: query, currentPage: 1 });\n  };\n\n  toggleDelete(model) {\n    this.setState(prevState => ({\n      modal: !prevState.modal,\n      selectedModel: model\n    }));\n  }\n\n  handleDelete = () => {\n    const { selectedModel } = this.state;\n    const rollback = this.state.models;\n\n    const models = this.state.models.filter(u => u._id !== selectedModel._id);\n\n    this.setState({ models });\n\n    try {\n      deleteModel(selectedModel._id);\n    } catch (ex) {\n      this.setState({ models: rollback });\n    }\n    this.toggleDelete();\n  };\n\n  getPageData = () => {\n    const {\n      models: allModels,\n      pageSize,\n      currentPage,\n      sortColumn,\n      searchQuery\n    } = this.state;\n\n    let filtered = allModels;\n\n    if (searchQuery) {\n      filtered = allModels.filter(u =>\n        u.label.toLowerCase().startsWith(searchQuery.toLowerCase())\n      );\n    }\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n    const models = paginate(sorted, currentPage, pageSize);\n\n    return {\n      totalCount: filtered.length || 0,\n      data: models\n    };\n  };\n\n  modalBody = model => {\n    const { label, landlord } = model;\n    if (!landlord) return null;\n    return (\n      <p className=\"lead\">\n        El esquema {label} asignado a {landlord.lastname} se eliminará.\n      </p>\n    );\n  };\n\n  modalProps = selectedUser => ({\n    isOpen: this.state.modal,\n    title: 'Eliminar esquema de expensas',\n    label: 'Consortia - Jose Ingenieros 1840',\n    body: selectedUser && this.modalBody(selectedUser),\n    cancelBtnLabel: 'Cancelar',\n    submitBtnLabel: 'Eliminar',\n    toggle: this.toggleDelete,\n    submit: this.handleDelete,\n    danger: true\n  });\n  render() {\n    const { pageSize, currentPage, sortColumn, searchQuery } = this.state;\n    const { currentUser, selectedModel } = this.state;\n\n    if (currentUser && !currentUser.isCouncil) return <Unauthorized />;\n\n    const { totalCount, data: models } = this.getPageData();\n\n    return (\n      <div className=\"bx--row cc--models-form\">\n        <div className=\"bx--col\">\n          <CarbonModal {...this.modalProps(selectedModel)} />\n          <CarbonTableTitle\n            title=\"Esquemas de expensas\"\n            helper=\"Lista de esquemas para el registro de espensas.\"\n            btnLabel=\"Registrar esquema\"\n            btnClick={this.handleAddModel}\n            currentUser={currentUser}\n          />\n          <SearchBox value={searchQuery} onChange={this.handleSearch} />\n          <ModelsTable\n            models={models}\n            onDelete={this.toggleDelete}\n            onSort={this.handleSort}\n            sortColumn={sortColumn}\n          />\n          <CarbonTablePagination\n            itemsCount={totalCount}\n            pageSize={pageSize}\n            currentPage={currentPage}\n            onPageSize={this.handlePageSize}\n            onPageChange={this.handlePageChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Models;\n","import React, { Fragment } from 'react';\nimport Joi from 'joi-browser';\nimport Form from './common/Form';\nimport { getConsortia, saveConsortia } from '../services/consortiaService';\nimport auth from '../services/authService';\nimport { toast } from 'react-toastify';\n\nclass Consortia extends Form {\n  state = {\n    data: {\n      name: '',\n      address: '',\n      cbu: '',\n      bank: '',\n      mail: '',\n      expenseA: 0,\n      expenseB: 0,\n      interest: 0,\n      balanceA: 0,\n      balanceB: 0\n    },\n    currentUser: auth.getCurrentUser(),\n    errors: {}\n  };\n\n  schema = {\n    _id: Joi.string().required(),\n    name: Joi.string().required(),\n    address: Joi.string().required(),\n    cbu: Joi.string().required(),\n    bank: Joi.string().required(),\n    mail: Joi.string()\n      .email()\n      .required(),\n    expenseA: Joi.number()\n      .allow(0)\n      .required(),\n    expenseB: Joi.number()\n      .allow(0)\n      .required(),\n    interest: Joi.number()\n      .allow(0)\n      .required(),\n    balanceA: Joi.number()\n      .allow(0)\n      .required(),\n    balanceB: Joi.number()\n      .allow(0)\n      .required()\n  };\n\n  async populateConsotia() {\n    const { data: consortia } = await getConsortia();\n    if (consortia.length === 0) return;\n    this.setState({\n      data: this.mapToViewModel(consortia[0])\n    });\n  }\n\n  async componentDidMount() {\n    await this.populateConsotia();\n  }\n\n  mapToViewModel(consortia) {\n    return {\n      _id: consortia._id,\n      name: consortia.name,\n      address: consortia.address,\n      cbu: consortia.cbu,\n      bank: consortia.bank,\n      mail: consortia.mail,\n      expenseA: consortia.expenseA,\n      expenseB: consortia.expenseB,\n      interest: consortia.interest,\n      balanceA: consortia.balanceA,\n      balanceB: consortia.balanceB\n    };\n  }\n\n  doSubmit = async () => {\n    const consortia = { ...this.state.data };\n    // const { _id } = auth.getCurrentUser();\n    if (consortia.interest > 1) consortia.interest = consortia.interest / 100;\n    try {\n      await saveConsortia(consortia);\n      toast.success(`Los datos se guardaron exitosamente. ✔️`, {\n        position: 'top-center'\n      });\n    } catch (ex) {\n      console.log(ex.response);\n    }\n  };\n\n  render() {\n    const { currentUser } = this.state;\n\n    const readOnly = !currentUser.isAdmin;\n\n    return (\n      <Fragment>\n        <div className=\"bx--grid\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"bx--row\">\n              <div className=\"bx--col\">\n                {this.renderInput('name', 'Nombre', null, readOnly)}\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--col\">\n                {this.renderInput('address', 'Domicilio', null, readOnly)}\n              </div>\n              <div className=\"bx--col\">\n                {this.renderInput('mail', 'Correo Electrónico', null, readOnly)}\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--col\">\n                {this.renderInput('bank', 'Datos Bancarios', null, readOnly)}\n              </div>\n              <div className=\"bx--col\">\n                {this.renderInput('cbu', 'CBU', null, readOnly)}\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--col\">\n                {this.renderInput('expenseA', 'Expensas A', null, readOnly)}\n              </div>\n              <div className=\"bx--col\">\n                {this.renderInput('expenseB', 'Expensas B', null, readOnly)}\n              </div>\n              <div className=\"bx--col\">\n                {this.renderInput(\n                  'interest',\n                  'Interes por mora (%)',\n                  null,\n                  readOnly\n                )}\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--col\">\n                {this.renderInput('balanceA', 'Saldo A', null, readOnly)}\n              </div>\n              <div className=\"bx--col\">\n                {this.renderInput('balanceB', 'Saldo B', null, readOnly)}\n              </div>\n            </div>\n            {!readOnly && (\n              <div className=\"bx--row\">\n                <div className=\"bx--col\">{this.renderButton('Guardar')}</div>\n              </div>\n            )}\n          </form>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Consortia;\n","import React from 'react';\nimport auth from '../../services/authService';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ path, component: Component, render, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (!auth.getCurrentUser())\n          return (\n            <Redirect\n              to={{\n                pathname: '/login',\n                state: { from: props.location }\n              }}\n            />\n          );\n        return Component ? <Component {...props} /> : render(props);\n      }}\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nconst SideBarItem = ({ label, to }) => {\n  return (\n    <li>\n      <NavLink className=\"nav-link nav-item\" to={to}>\n        {label}\n      </NavLink>\n    </li>\n  );\n};\n\nexport default SideBarItem;\n","import React from 'react';\n\nconst SideSeparator = ({ label }) => {\n  return (\n    <h6 className=\"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted\">\n      <span>{label}</span>\n    </h6>\n  );\n};\n\nexport default SideSeparator;\n","import React, { Fragment } from 'react';\nimport SideBarItem from './common/SideBarItem';\nimport SideSeparator from './common/SideSeparator';\n\nconst SideBar = ({ user }) => {\n  console.log('SideBar:', user);\n  return (\n    <nav className=\"col-md-2 d-none d-md-block  sidebar\">\n      <div className=\"sidebar-sticky\">\n        {/* {!user && (\n          <Fragment>\n            <ul className=\"nav flex-column\">\n              <SideBarItem label=\"Acceder\" to=\"/login\" />\n            </ul>\n          </Fragment>\n        )} */}\n\n        {user && (\n          <Fragment>\n            <SideSeparator label=\"Información\" />\n            <ul className=\"nav flex-column mb-2\">\n              <SideBarItem label=\"Consorcio\" to=\"/consortia\" />\n              <SideBarItem label=\"Proveedores\" to=\"/suppliers\" />\n              <SideBarItem label=\"Usuarios\" to=\"/users\" />\n            </ul>\n          </Fragment>\n        )}\n        <Fragment>\n          <SideSeparator label=\"Consorcio\" />\n          <ul className=\"nav flex-column mb-2\">\n            <SideBarItem label=\"Expensas\" to=\"/periods\" />\n            {user && user.isCouncil && (\n              <Fragment>\n                <SideBarItem label=\"Gastos\" to=\"/expenses\" />\n                <SideBarItem label=\"Pagos\" to=\"/payments\" />\n                <SideBarItem label=\"Unidades\" to=\"/units\" />\n              </Fragment>\n            )}\n          </ul>\n        </Fragment>\n        {user && user.isAdmin && (\n          <Fragment>\n            <SideSeparator label=\"Admin\" />\n            <ul className=\"nav flex-column mb-2\">\n              <SideBarItem label=\"Esquemas\" to=\"/models\" />\n            </ul>\n          </Fragment>\n        )}\n      </div>\n    </nav>\n  );\n};\n\nexport default SideBar;\n","import React from 'react';\nimport { Link, NavLink } from 'react-router-dom';\n\nconst NavBar = ({ user, consortia }) => {\n  return (\n    <nav className=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\n      <Link className=\"navbar-brand col-sm-3 col-md-2 mr-0\" to=\"/\">\n        Consortia\n      </Link>\n      {user && (\n        <React.Fragment>\n          <ul className=\"navbar-nav px-3\">\n            <li className=\"nav-item text-nowrap\">\n              <NavLink className=\"nav-link\" to=\"/\">\n                <h6>\n                  {consortia.name}\n                  <small className=\"text-muted\">{` Consorcio`}</small>\n                </h6>\n              </NavLink>\n            </li>\n          </ul>\n          <ul className=\"navbar-nav px-3\">\n            <li className=\"nav-item text-nowrap\">\n              <NavLink className=\"nav-item  pl-3\" to={`/users/${user._id}`}>\n                {`${user.mail} `}\n                <i className=\"fa fa-user-circle\" />\n              </NavLink>\n              <NavLink className=\"nav-item pl-3\" to=\"/logout\">\n                <i className=\"fa fa-sign-out\" />\n              </NavLink>\n            </li>\n          </ul>\n        </React.Fragment>\n      )}\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import React, { Component, Fragment } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport Home from './components/Home';\nimport UnitsForm from './components/UnitsForm';\nimport Units from './components/Units';\nimport Users from './components/Users';\nimport UsersForm from './components/UsersForm';\nimport CurrentMonth from './components/CurrentMonth';\nimport Periods from './components/Periods';\nimport PeriodsForm from './components/PeriodsForm';\nimport Expenses from './components/Expenses';\nimport ExpensesForm from './components/ExpensesForm';\nimport Payments from './components/Payments';\nimport Suppliers from './components/Suppliers';\nimport SuppliersForm from './components/SuppliersForm';\nimport RegisterForm from './components/RegisterForm';\nimport LoginForm from './components/LoginForm';\nimport Logout from './components/Logout';\nimport NotFound from './components/NotFound';\nimport ModelsForm from './components/ModelsForm';\nimport Models from './components/Models';\nimport Consortia from './components/Consortia';\nimport ProtectedRoute from './components/common/ProtectedRoute';\nimport auth from './services/authService';\nimport SideBar from './components/SideBar';\nimport NavBar from './components/NavBar';\nimport { getConsortia } from './services/consortiaService';\n\nclass App extends Component {\n  state = {};\n  async componentDidMount() {\n    const user = auth.getCurrentUser();\n    const { data } = await getConsortia();\n    const consortia = data[0];\n    this.setState({ user, consortia });\n  }\n  render() {\n    const { user, consortia } = this.state;\n\n    return (\n      <Fragment>\n        <ToastContainer />\n        <NavBar user={user} consortia={consortia} />\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <SideBar user={user} />\n            <main\n              role=\"main\"\n              className=\"col-md-9 ml-sm-auto col-lg-10 px-4 cc--mb25\"\n            >\n              <Switch>\n                <Route path=\"/login\" component={LoginForm} />\n                <Route path=\"/logout\" component={Logout} />\n                <ProtectedRoute path=\"/register\" component={RegisterForm} />\n                <ProtectedRoute\n                  path=\"/suppliers/:id\"\n                  component={SuppliersForm}\n                />\n                <ProtectedRoute path=\"/suppliers\" component={Suppliers} />\n                <ProtectedRoute\n                  path=\"/periods/:id/:period\"\n                  component={PeriodsForm}\n                />\n                <ProtectedRoute path=\"/periods/:id/\" component={PeriodsForm} />\n                <ProtectedRoute path=\"/periods\" component={Periods} />\n                <ProtectedRoute path=\"/models/:id\" component={ModelsForm} />\n                <ProtectedRoute path=\"/models\" component={Models} />\n                <ProtectedRoute path=\"/current\" component={CurrentMonth} />\n                <ProtectedRoute path=\"/periods\" component={Periods} />\n                <ProtectedRoute path=\"/payments\" component={Payments} />\n                <ProtectedRoute path=\"/expenses/:id\" component={ExpensesForm} />\n                <ProtectedRoute path=\"/expenses\" component={Expenses} />\n                <ProtectedRoute path=\"/units/:id\" component={UnitsForm} />\n                <ProtectedRoute path=\"/units\" component={Units} />} />\n                <ProtectedRoute path=\"/consortia\" component={Consortia} />} />\n                <ProtectedRoute path=\"/users/:id\" component={UsersForm} />} />\n                <ProtectedRoute path=\"/users\" component={Users} />} />\n                <Route path=\"/not-found\" component={NotFound} />\n                <ProtectedRoute exact path=\"/\" component={Home} />\n                <Redirect to=\"/login\" />\n              </Switch>\n            </main>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\n//Render props of Router tag is used if additionals props are\n//required by the cuild component.\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport logger from './services/logService';\n// import UIMain from './components/unused/UIMain';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n// import './styles/index.scss';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'font-awesome/css/font-awesome.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './styles/dashboard.css';\nimport './styles/index.css';\n\nlogger.init();\n\nconsole.log(\n  'index.js - process.env.REACT_APP_NAME',\n  process.env.REACT_APP_NAME,\n  process.env.REACT_APP_API_URL\n);\n\nReactDOM.render(\n  <BrowserRouter>\n    {/* <UIMain /> */}\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}