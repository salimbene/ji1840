{"version":3,"sources":["services/logService.js","components/Home.jsx","components/common/Input.jsx","components/common/Select.jsx","components/common/Form.jsx","services/httpService.js","services/unitsService.js","services/usersService.js","components/UnitsForm.jsx","components/common/Pagination.jsx","components/common/ListGroup.jsx","components/common/SearchBox.jsx","components/common/TableHeader.jsx","components/common/TableBody.jsx","components/common/Table.jsx","services/authService.js","components/UnitsTable.jsx","components/Units.jsx","utils/paginate.js","components/RegisterForm.jsx","components/LoginForm.jsx","components/Logout.jsx","components/NotFound.jsx","components/NavBar.jsx","components/common/ProtectedRoute.jsx","App.js","serviceWorker.js","index.js"],"names":["logService","init","Raven","config","install","log","error","captureException","Home","state","react_default","a","createElement","className","Component","Input","_ref","name","label","rest","Object","objectWithoutProperties","htmlFor","assign","id","concat","Select","options","altName","value","map","option","key","_id","Form","data","errors","validate","Joi","_this","schema","abortEarly","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","details","Symbol","iterator","next","done","item","path","message","err","return","validateProperty","obj","defineProperty","handleSubmit","e","preventDefault","setState","doSubmit","handleChange","_ref2","input","currentTarget","objectSpread","errorMessage","disabled","this","type","arguments","length","_this$state","common_Input","onChange","_this$state2","common_Select","axios","interceptors","response","use","status","logger","toast","console","Promise","reject","httpService","get","post","put","delete","setJwt","jwt","defaults","headers","common","apiEndpoint","apiUrl","unitUrl","getUnit","unitId","http","updateUnit","unit","saveUnit","body","UnitsForm","fUnit","flat","floor","share","userId","users","string","number","required","max","min","generateLandlord","find","u","lastname","_callee","regenerator_default","wrap","_context","prev","landlord","props","history","push","stop","match","params","mapToViewModel","_context3","t0","replace","populateUsers","populateUnits","Fragment","onSubmit","renderInput","renderSelect","renderButton","Pagination","itemsCount","pageSize","currentPage","onPageChange","pagesCount","Math","ceil","pages","_","range","page","onClick","ListGroup","items","textProperty","valueProperty","onItemSelect","selectedItem","defaultProps","SearchBox","placeholder","TableHeader","raiseSort","sortColumn","order","onSort","renderSortIcon","column","_this2","columns","TableBody","renderCell","content","createKey","_this$props","Table","common_TableHeader","common_TableBody","tokenKey","mail","password","sent","localStorage","setItem","getJwt","getItem","authService","login","_x","_x2","_login","apply","logout","removeItem","getCurrentUser","jwtDecode","loginWithJwt","UnitsTable","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","Link","to","deleteColumn","event","onDelete","target","tabIndex","user","auth","isAdmin","units","common_Table","Units","searchQuery","handleDelete","rollback","filter","ex","handleUpdate","index","toConsumableArray","indexOf","handleSort","handleAddUnit","handlePageChange","handleFloorSelect","selectedFloor","handleSearch","query","getPageData","allUnits","filtered","field","toLowerCase","startsWidh","pageNumber","startIndex","slice","take","paginate","orderBy","totalCount","count","_this$getPageData","common_ListGroup","lib","style","marginBottom","common_SearchBox","components_UnitsTable","common_Pagination","RegisterForm","username","email","LoginForm","_this$state$data","location","window","from","pathname","Redirect","src","alt","Logout","NotFound","NavBar","NavLink","ProtectedRoute","component","render","Route","App","components_NavBar","Switch","common_ProtectedRoute","exact","Boolean","hostname","process","REACT_APP_NAME","ReactDOM","BrowserRouter","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0cf99b06.chunk.js","sourcesContent":["import Raven from 'raven-js';\n\nfunction init() {\n  Raven.config(\n    'https://a92e94fcca124123b2bf3379ec01d717@sentry.io/1381521'\n  ).install();\n}\n\nfunction log(error) {\n  Raven.captureException(error);\n}\n\nexport default {\n  init,\n  log\n};\n","import React, { Component } from 'react';\nclass Home extends Component {\n  state = {};\n  render() {\n    return (\n      <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\n        <h1 className=\"h2\">Dashboard</h1>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React from 'react';\n\nconst Input = ({ name, label, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label className=\"label\" htmlFor={name}>\n        {label}\n      </label>\n      <input\n        {...rest}\n        name={name}\n        id={name}\n        className={`\n          form-control \n          ${error && 'is-invalid'}\n        `}\n      />\n      {(error && <div className=\"invalid-feedback\">{error}</div>) || (\n        <div className=\"hidden\">fix</div>\n      )}\n      {/* {error && (\n        <div className=\"alert alert-danger col-sm-10 opacity\">{error}</div>\n      )} */}\n    </div>\n  );\n};\n\nexport default Input;\n","import React from 'react';\n\nconst Select = ({ name, label, options, altName, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n      <select name={name} id={name} {...rest} className=\"form-control\">\n        <option value=\"\" />\n        {options.map(option => (\n          <option key={option._id} value={option._id}>\n            {option[altName]}\n          </option>\n        ))}\n      </select>\n      {(error && <div className=\"invalid-feedback\">{error}</div>) || (\n        <div className=\"hidden\">fix</div>\n      )}\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { Component } from 'react';\nimport Joi from 'joi-browser';\nimport Input from './Input';\nimport Select from './Select';\n\nclass Form extends Component {\n  state = {\n    data: {},\n    errors: {}\n  };\n\n  validate = () => {\n    const options = { abortEarly: false };\n    const { error } = Joi.validate(this.state.data, this.schema, options);\n\n    if (!error) return null;\n    const errors = {};\n\n    for (let item of error.details) errors[item.path[0]] = item.message;\n\n    return errors;\n  };\n\n  validateProperty = ({ name, value }) => {\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n\n    const { error } = Joi.validate(obj, schema);\n\n    return error ? error.details[0].message : null;\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n    if (errors) return;\n    this.doSubmit();\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    const errors = { ...this.state.errors };\n    const errorMessage = this.validateProperty(input);\n    if (errorMessage) errors[input.name] = errorMessage;\n    else delete errors[input.name];\n\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n\n    this.setState({ data, errors });\n  };\n\n  renderButton(label) {\n    return (\n      <button\n        disabled={this.validate()}\n        className=\"btn btn-primary btn-center mx-auto\"\n      >\n        {label}\n      </button>\n    );\n  }\n\n  renderInput(name, label, type = 'text') {\n    const { data, errors } = this.state;\n    return (\n      <Input\n        type={type}\n        name={name}\n        value={data[name]}\n        label={label}\n        onChange={this.handleChange}\n        error={errors[name]}\n      />\n    );\n  }\n\n  renderSelect(name, label, altName, options) {\n    const { data, errors } = this.state;\n\n    return (\n      <Select\n        name={name}\n        value={data[name]}\n        altName={altName}\n        label={label}\n        options={options}\n        onChange={this.handleChange}\n        error={errors[name]}\n      />\n    );\n  }\n}\n\nexport default Form;\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport logger from './logService';\n\naxios.interceptors.response.use(null, error => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expectedError) {\n    logger.log(error);\n    toast('An unexpected error ocurred.');\n  }\n  console.log('interceptor activated');\n  return Promise.reject(error);\n});\n\nfunction setJwt(jwt) {\n  axios.defaults.headers.common['x-auth-token'] = jwt;\n}\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n  setJwt\n};\n","import http from './httpService';\nimport { apiUrl } from '../config.json';\n\nconst apiEndpoint = `${apiUrl}/funits`;\n\nfunction unitUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getUnits() {\n  return http.get(apiEndpoint);\n}\n\nexport function getUnit(unitId) {\n  return http.get(unitUrl(unitId));\n}\n\nexport function deleteUnit(unitId) {\n  return http.delete(unitUrl(unitId));\n}\n\nexport function updateUnit(unit) {\n  return http.put(unitUrl(unit._id), unit);\n}\n\nexport function addUnit(unit) {\n  return http.post(apiEndpoint, unit);\n}\n\nexport function saveUnit(unit) {\n  if (unit._id) {\n    const body = { ...unit };\n    delete body._id;\n    return http.put(unitUrl(unit._id), body);\n  }\n\n  return http.post(apiEndpoint, unit);\n}\n","import http from './httpService';\nimport { apiUrl } from '../config.json';\n\nconst apiEndpoint = `${apiUrl}/users`;\n\nexport function getUsers() {\n  return http.get(apiEndpoint);\n}\n\nexport function getUser(userId) {\n  return http.get(`${apiEndpoint}/${userId}`);\n}\n\nexport function deleteUser(userId) {\n  return http.delete(`${apiEndpoint}/${userId}`);\n}\n\nexport function updateUser(user) {\n  return http.put(apiEndpoint, user);\n}\n\nexport function register(user) {\n  return http.post(apiEndpoint, {\n    mail: user.username,\n    password: user.password\n  });\n}\n","import React from 'react';\nimport Joi from 'joi-browser';\nimport Form from './common/Form';\nimport { getUnit, saveUnit } from '../services/unitsService';\nimport { getUsers } from '../services/usersService';\n\nclass UnitsForm extends Form {\n  state = {\n    data: {\n      fUnit: 0,\n      flat: '',\n      floor: 0,\n      share: 0,\n      userId: ''\n    },\n    users: [],\n    errors: {}\n  };\n\n  schema = {\n    _id: Joi.string(),\n    fUnit: Joi.number()\n      .required()\n      .label('Unidad'),\n    floor: Joi.number()\n      .max(2)\n      .required()\n      .label('Piso'),\n    flat: Joi.string()\n      .min(1)\n      .max(2)\n      .required()\n      .label('Depto'),\n    share: Joi.number()\n      .required()\n      .label('Share'),\n    userId: Joi.string()\n      .required()\n      .label('Propietario') //No validation\n  };\n\n  async populateUsers() {\n    const { data: users } = await getUsers();\n    this.setState({ users });\n  }\n\n  async populateUnit() {\n    try {\n      const unitId = this.props.match.params.id;\n      if (unitId === 'new') return;\n      const { data: unit } = await getUnit(unitId);\n      this.setState({ data: this.mapToViewModel(unit) });\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        return this.props.history.replace('/not-found');\n    }\n  }\n\n  async componentDidMount() {\n    await this.populateUsers();\n    await this.populateUnits();\n  }\n\n  mapToViewModel(unit) {\n    return {\n      _id: unit._id,\n      fUnit: unit.fUnit,\n      flat: unit.flat,\n      floor: unit.floor,\n      share: unit.share,\n      userId: unit.landlord.userId\n    };\n  }\n\n  generateLandlord = fUnit => {\n    const { users } = this.state;\n\n    const userId = fUnit.userId || '5c58ae683ce66232d93fff7c';\n    delete fUnit.userId;\n\n    return {\n      userId: userId,\n      name: users.find(u => u._id === fUnit.userId).lastname || 'vacante'\n    };\n  };\n\n  doSubmit = async () => {\n    const fUnit = { ...this.state.data };\n\n    fUnit.landlord = this.generateLandlord(fUnit);\n\n    await saveUnit(fUnit);\n\n    const { history } = this.props;\n    history.push('/units');\n  };\n\n  render() {\n    const { match } = this.props;\n\n    return (\n      <React.Fragment>\n        <h1>Unit Form {match.params.id}</h1>\n        <div className=\"rounded centered gray units--form\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"row\">\n              <div className=\"col col-md-3\">\n                {' '}\n                {this.renderInput('fUnit', 'Unidad')}\n              </div>\n              <div className=\"col col-md-3\">\n                {this.renderInput('floor', 'Piso')}\n              </div>\n              <div className=\"col col-md-3\">\n                {this.renderInput('flat', 'Depto')}\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col col-md-3\">\n                {this.renderInput('share', 'Participación')}\n              </div>\n              <div className=\"col col-md-6\">\n                {this.renderSelect(\n                  'userId',\n                  'Propietario',\n                  'lastname',\n                  this.state.users\n                )}\n              </div>\n            </div>\n            <div className=\"row\">{this.renderButton('Guardar')}</div>\n          </form>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default UnitsForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\n\nconst Pagination = ({ itemsCount, pageSize, currentPage, onPageChange }) => {\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  const pages = _.range(1, pagesCount + 1);\n\n  if (pagesCount === 1) return null;\n\n  return (\n    <nav>\n      <ul className=\"pagination\">\n        {pages.map(page => (\n          <li\n            className={page === currentPage ? 'page-item active' : 'page-item'}\n            key={page}\n          >\n            <button className=\"page-link\" onClick={() => onPageChange(page)}>\n              {page}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nPagination.propTypes = {\n  itemsCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired\n};\n\nexport default Pagination;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ListGroup = ({\n  items,\n  textProperty,\n  valueProperty,\n  onItemSelect,\n  selectedItem\n}) => {\n  return (\n    <ul className=\"list-group\">\n      {items.map(item => (\n        <li\n          onClick={() => onItemSelect(item)}\n          key={item[valueProperty]}\n          className={\n            item === selectedItem ? 'list-group-item active' : 'list-group-item'\n          }\n        >\n          {item[textProperty]}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nListGroup.defaultProps = {\n  textProperty: 'name',\n  valueProperty: 'id'\n};\n\nListGroup.propTypes = {\n  // pisos: PropTypes.array.isRequired,\n  onItemSelect: PropTypes.func.isRequired\n};\n\nexport default ListGroup;\n","import React from 'react';\n\nconst SearchBox = ({ value, onChange }) => {\n  return (\n    <input\n      type=\"text\"\n      name=\"query\"\n      className=\"form-control my-3\"\n      placeholder=\"Buscar...\"\n      value={value}\n      onChange={e => onChange(e.currentTarget.value)}\n    />\n  );\n};\n\nexport default SearchBox;\n","import React, { Component } from 'react';\n\nclass TableHeader extends Component {\n  raiseSort = path => {\n    const sortColumn = { ...this.props.sortColumn };\n    if ((sortColumn.path = path))\n      sortColumn.order = sortColumn.order === 'asc' ? 'desc' : 'asc';\n    else {\n      sortColumn.path = path;\n      sortColumn.order = 'asc';\n    }\n    this.props.onSort(sortColumn);\n  };\n\n  renderSortIcon = column => {\n    const { sortColumn } = this.props;\n    if (column.path !== sortColumn.path) return null;\n    if (sortColumn.order === 'asc') return <i className=\"fa fa-sort-asc\" />;\n    return <i className=\"fa fa-sort-desc\" />;\n  };\n\n  render() {\n    return (\n      <thead>\n        <tr>\n          {this.props.columns.map(column => (\n            <th\n              className=\"clickable\"\n              key={column.path || column.key}\n              onClick={() => this.raiseSort(column.path)}\n            >\n              {column.label} {this.renderSortIcon(column)}\n            </th>\n          ))}\n        </tr>\n      </thead>\n    );\n  }\n}\n\nexport default TableHeader;\n","import React, { Component } from 'react';\nimport _ from 'lodash';\nclass TableBody extends Component {\n  renderCell = (item, column) => {\n    if (column.content) return column.content(item);\n    return _.get(item, column.path);\n  };\n\n  createKey = (item, column) => {\n    return item._id + column.path || column.key;\n  };\n\n  render() {\n    const { data, columns } = this.props;\n    return (\n      <tbody>\n        {data.map(item => (\n          <tr key={item._id}>\n            {columns.map(column => (\n              <td key={this.createKey(item, column)}>\n                {this.renderCell(item, column)}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n\nexport default TableBody;\n","import React from 'react';\nimport TableHeader from './TableHeader';\nimport TableBody from './TableBody';\n\nconst Table = ({ columns, sortColumn, onSort, data }) => {\n  return (\n    <table className=\"table\">\n      <TableHeader columns={columns} sortColumn={sortColumn} onSort={onSort} />\n      <TableBody data={data} columns={columns} />\n    </table>\n  );\n};\n\nexport default Table;\n","import http from './httpService';\nimport jwtDecode from 'jwt-decode';\nimport { apiUrl } from '../config.json';\nconst apiEndpoint = `${apiUrl}/auth`;\nconst tokenKey = 'consortia-token';\n\n//adding x-auth-token, if any, to the headers.\n//Required to access protected api endpoints.\nhttp.setJwt(getJwt());\n\nexport async function login(mail, password) {\n  const { data: jwt } = await http.post(apiEndpoint, { mail, password });\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function getJwt() {\n  localStorage.getItem(tokenKey);\n}\n\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n  loginWithJwt,\n  getJwt\n};\n\n// const getTokenExpirationDate = token => {\n//   const decoded = jwtDecode(token);\n//   const { exp } = decoded;\n\n//   if (!exp) return null;\n\n//   return exp;\n// };\n\n// const isTokenExpired = token => {\n//   const tokenExpDate = getTokenExpirationDate(token);\n//   const now = Date.now() / 1000;\n\n//   return tokenExpDate < now;\n// };\n\n// authService.isLoggedIn = () => {\n//   const token = authService.getToken();\n//   return token && !isTokenExpired(token);\n// };\n\n// authService.login = async password => {\n//   const response = await axios.post(\n//     '/api/login',\n//     { password },\n//     { validateStatus: s => s === 200 || s === 401 }\n//   );\n//   const { data } = response;\n\n//   if (response.status === 200) setToken(data.token);\n\n//   return data.auth === 'ok';\n// };\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Table from './common/Table';\nimport auth from '../services/authService';\n\nclass UnitsTable extends Component {\n  columns = [\n    {\n      path: 'landlord.lastname',\n      label: 'Propietario',\n      content: unit => (\n        <Link to={`/users/${unit.landlord.userId}`}>{unit.landlord.name}</Link>\n      )\n    },\n    {\n      path: 'fUnit',\n      label: 'Unidad',\n      content: unit => <Link to={`/units/${unit._id}`}>{unit.fUnit}</Link>\n    },\n    { path: 'floor', label: 'Piso' },\n    { path: 'flat', label: 'Puerta' },\n    { path: 'share', label: 'Participación' }\n  ];\n\n  deleteColumn = {\n    key: 'del',\n    content: unit => (\n      <button\n        onClick={event => this.props.onDelete(event.target.tabIndex)}\n        className=\"btn btn-danger btn-sm\"\n      >\n        Eliminar\n      </button>\n    )\n  };\n\n  constructor() {\n    super();\n    const user = auth.getCurrentUser();\n    if (user & user.isAdmin) this.columns.push(this.deleteColumn);\n  }\n\n  render() {\n    const { units, onSort, sortColumn } = this.props;\n\n    return (\n      <Table\n        columns={this.columns}\n        data={units}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default UnitsTable;\n","import React, { Component } from 'react';\nimport { getUnits, deleteUnit, updateUnit } from '../services/unitsService';\nimport Pagination from './common/Pagination';\nimport ListGroup from './common/ListGroup';\nimport SearchBox from './common/SearchBox';\nimport UnitsTable from './UnitsTable';\nimport { paginate } from '../utils/paginate';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport _ from 'lodash';\n\nclass Units extends Component {\n  state = {\n    units: {},\n    pageSize: 3,\n    currentPage: 1,\n    searchQuery: '',\n    sortColumn: { path: 'fUnit', order: 'asc' },\n    floor: [{ name: 'a', id: 0 }, { name: 'b', id: 1 }, { name: 'c', id: 2 }]\n  };\n\n  async componentDidMount() {\n    const floor = [{ id: '', name: 'all' }, ...this.state.floor];\n    const { data: units } = await getUnits();\n    this.setState({ units, floor });\n  }\n\n  handleDelete = unit => {\n    const rollback = this.state.units;\n    const units = this.state.units.filter(u => u._id !== unit._id);\n    this.setState({ units });\n\n    try {\n      deleteUnit(unit._id);\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404) {\n        toast('Something failed!');\n        this.setState({ units: rollback });\n      }\n    }\n  };\n\n  handleUpdate = async unit => {\n    unit.landlord.lastname = 'Salimbene';\n\n    await updateUnit(unit);\n    const units = [...this.state.units];\n    const index = units.indexOf(unit);\n    units[index] = { ...unit };\n    this.setState({ units });\n  };\n\n  handleSort = sortColumn => {\n    console.log(sortColumn);\n    this.setState({ sortColumn });\n  };\n\n  handleAddUnit = () => {\n    // const fUnit = {\n    //   fUnit: 351,\n    //   floor: 2,\n    //   flat: 'D',\n    //   share: 4.6,\n    //   landlord: {\n    //     user: '5c425cf738e2bc62ce2bce98',\n    //     lastname: 'Salimbene'\n    //   }\n    // };\n    // await addUnit(fUnit);\n    // const units = [fUnit, ...this.state.units];\n    // this.setState({ units });\n\n    const { history } = this.props;\n    history.push('/units/new');\n  };\n\n  handlePageChange = page => {\n    this.setState({ currentPage: page });\n  };\n\n  handleFloorSelect = item => {\n    this.setState({ selectedFloor: item, currentPage: 1, searchQuery: '' });\n  };\n\n  handleSearch = query => {\n    this.setState({ searchQuery: query, selectedFloor: null, currentPage: 1 });\n  };\n\n  getPageData = () => {\n    const {\n      units: allUnits,\n      pageSize,\n      currentPage,\n      selectedFloor,\n      sortColumn,\n      searchQuery\n    } = this.state;\n\n    let filtered = allUnits;\n    if (searchQuery)\n      filtered = allUnits.filter(u =>\n        u.field.toLowerCase().startsWidh(searchQuery.toLowerCase())\n      );\n    else if (selectedFloor && selectedFloor.id)\n      filtered = allUnits.filter(u => u.floor === selectedFloor.id);\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n\n    const units = paginate(sorted, currentPage, pageSize);\n\n    return {\n      totalCount: filtered.length || 0,\n      data: units\n    };\n  };\n\n  render() {\n    const { length: count } = this.state.units;\n    const { pageSize, currentPage, sortColumn, searchQuery } = this.state;\n    const { user } = this.props;\n\n    if (count === 0) return <p>No existen unidades funcionales registradas.</p>;\n\n    const { totalCount, data: units } = this.getPageData();\n\n    return (\n      <div className=\"row units\">\n        <div className=\"col-1\">\n          <ListGroup\n            items={this.state.floor}\n            selectedItem={this.state.selectedFloor}\n            onItemSelect={this.handleFloorSelect}\n          />\n        </div>\n\n        <div className=\"col\">\n          <ToastContainer />\n          {user && (\n            <button\n              onClick={event => this.handleAddUnit(event)}\n              className=\"btn btn-primary btn-sm\"\n              style={{ marginBottom: 20 }}\n            >\n              Nuevo\n            </button>\n          )}\n          <p>Unidades funcionales registradas: {totalCount}</p>\n          <SearchBox value={searchQuery} onChange={this.handleSearch} />\n          <UnitsTable\n            units={units}\n            onDelete={this.handleDelete}\n            onSort={this.handleSort}\n            sortColumn={sortColumn}\n          />\n          <Pagination\n            itemsCount={totalCount}\n            pageSize={pageSize}\n            currentPage={currentPage}\n            onPageChange={this.handlePageChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Units;\n","import _ from 'lodash';\n\nexport function paginate(items, pageNumber, pageSize) {\n  const startIndex = (pageNumber - 1) * pageSize;\n\n  return _(items)\n    .slice(startIndex)\n    .take(pageSize)\n    .value();\n}\n","import React from 'react';\nimport Joi from 'joi-browser';\nimport Form from './common/Form';\nimport { register } from '../services/usersService';\nimport auth from '../services/authService';\n\nclass RegisterForm extends Form {\n  state = {\n    data: { username: '', password: '' },\n    errors: {}\n  };\n\n  schema = {\n    username: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n      .email()\n      .label('Usuario'),\n    password: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n      .label('Clave')\n  };\n\n  doSubmit = async () => {\n    try {\n      const response = await register(this.state.data);\n      auth.loginWithJwt(response.headers['x-auth-token']);\n      this.props.history.push('/');\n    } catch (ex) {\n      if (ex.response && ex.response.status === 400) {\n        const errors = { ...this.state.errors };\n        errors.username = ex.response.data;\n        this.setState({ errors });\n      }\n    }\n    //Call srv, save and redirect\n  };\n  render() {\n    return (\n      <div className=\"rounded centered registrar\">\n        <h1>Registrar Usuario</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput('username', 'Usuario')}\n          {this.renderInput('password', 'Clave', 'password')}\n          {this.renderButton('Acceder')}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default RegisterForm;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Form from './common/Form';\nimport auth from '../services/authService';\nimport Joi from 'joi-browser';\n\nclass LoginForm extends Form {\n  state = {\n    data: { username: '', password: '' },\n    errors: {}\n  };\n\n  schema = {\n    username: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n      .email()\n      .label('Usuario'),\n    password: Joi.string()\n      .min(5)\n      .max(255)\n      .required()\n      .label('Clave')\n  };\n\n  doSubmit = async () => {\n    const { username, password } = this.state.data;\n    try {\n      await auth.login(username, password);\n      const { state } = this.props.location;\n      window.location = state ? state.from.pathname : '/';\n    } catch (ex) {\n      if (ex.response && ex.response.status === 400) {\n        const errors = { ...this.state.errors };\n        errors.username = ex.response.data;\n        this.setState({ errors });\n      }\n    }\n  };\n\n  render() {\n    if (auth.getCurrentUser) return <Redirect to=\"/\" />;\n\n    return (\n      <React.Fragment>\n        <img src=\"../ji1840.jpg\" id=\"background\" alt=\"\" />\n        <div className=\"rounded centered login\">\n          <form onSubmit={this.handleSubmit}>\n            {this.renderInput('username', 'Usuario')}\n            {this.renderInput('password', 'Clave', 'password')}\n            {this.renderButton('Acceder')}\n          </form>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default LoginForm;\n","import { Component } from 'react';\nimport auth from '../services/authService';\nclass Logout extends Component {\n  componentDidMount() {\n    auth.logout();\n    window.location = '/';\n  }\n  render() {\n    return null;\n  }\n}\n\nexport default Logout;\n","import React from 'react';\n\nconst NotFound = () => {\n  return <h1>Not Found</h1>;\n};\n\nexport default NotFound;\n","import React from 'react';\nimport { Link, NavLink } from 'react-router-dom';\n\nconst NavBar = ({ user }) => {\n  return (\n    <nav className=\"navbar nabvar-expand-lg navbar-light bg-light\">\n      <Link className=\"navbar-brand\" to=\"/\">\n        Consortia\n      </Link>\n      <div className=\"collpase navbar-collapse\" id=\"navbarNavAltMarkup\">\n        <div className=\"navbar-nav\">\n          {!user && (\n            <React.Fragment>\n              <NavLink className=\"nav-item nav-link\" to=\"/units\">\n                Unidades\n              </NavLink>\n              <NavLink className=\"nav-item nav-link\" to=\"/login\">\n                Login\n              </NavLink>\n              <NavLink className=\"nav-item nav-link\" to=\"/register\">\n                Register\n              </NavLink>\n            </React.Fragment>\n          )}\n          {user && (\n            <React.Fragment>\n              <NavLink className=\"nav-item nav-link\" to=\"/profile\">\n                {user.name}\n              </NavLink>\n              <NavLink className=\"nav-item nav-link\" to=\"/logout\">\n                Log out\n              </NavLink>\n            </React.Fragment>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import React from 'react';\nimport auth from '../../services/authService';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ path, component: Component, render, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (!auth.getCurrentUser)\n          return (\n            <Redirect\n              to={{\n                pathname: '/login',\n                state: { from: props.location }\n              }}\n            />\n          );\n        return Component ? <Component {...props} /> : render(props);\n      }}\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { Component } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport Home from './components/Home';\nimport UnitsForm from './components/UnitsForm';\nimport Units from './components/Units';\nimport RegisterForm from './components/RegisterForm';\nimport LoginForm from './components/LoginForm';\nimport Logout from './components/Logout';\nimport NotFound from './components/NotFound';\nimport NavBar from './components/NavBar';\nimport ProtectedRoute from './components/common/ProtectedRoute';\nimport auth from './services/authService';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\nclass App extends Component {\n  state = {};\n  componentDidMount() {\n    const user = auth.getCurrentUser();\n    this.setState({ user });\n  }\n  render() {\n    const { user } = this.state;\n\n    return (\n      <React.Fragment>\n        <ToastContainer />\n        <NavBar user={user} />\n        <Switch>\n          <Route path=\"/register\" component={RegisterForm} />\n          <Route path=\"/login\" component={LoginForm} />\n          <Route path=\"/logout\" component={Logout} />\n          <ProtectedRoute path=\"/units/:id\" component={UnitsForm} />\n          <ProtectedRoute path=\"/units\" component={Units} />} />\n          <Route path=\"/not-found\" component={NotFound} />\n          <Route exact path=\"/\" component={Home} />\n          <Redirect to=\"/not-found\" />\n        </Switch>\n      </React.Fragment>\n    );\n  }\n}\n\n//Render props of Router tag is used if additionals props are\n//required by the cuild component.\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport logger from './services/logService';\nimport './index.css';\nimport './dashboard.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'font-awesome/css/font-awesome.css';\n\nlogger.init();\n\nconsole.log('superman', process.env.REACT_APP_NAME);\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}